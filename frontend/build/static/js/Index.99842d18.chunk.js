(this["webpackJsonpcandelaria-web-frontend"]=this["webpackJsonpcandelaria-web-frontend"]||[]).push([[4],{176:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(33),o=t(16);var l={reloginSuccess:t(77).a};a.a=Object(o.b)((function(e){return{auth:e.loginStatus.auth}}),l)((function(e){var a=e.auth,t=e.reloginSuccess,o=e.children;return Object(n.useEffect)((function(){var e=!1;if(!e){var a=JSON.parse(localStorage.getItem("key")),n=JSON.parse(sessionStorage.getItem("key"));(a||n)&&t(!0)}return function(){e=!0}})),a?r.a.createElement(c.a,{to:{pathname:"/panel"}}):r.a.createElement("div",null,o)}))},181:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(232),o=t(200);a.a=function(e){var a=e.estilo,t=e.colorsito,n=e.loading,l=e.text;return n?r.a.createElement(c.a,{color:t}):r.a.createElement(o.a,{variant:a,type:"submit",color:t},l)}},260:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(183),o=t.n(c),l=t(202),i=t(74),u=t.n(i),s=t(33),d=t(16),p=function(e){return{type:"UPDATE_INPUT_VALUE",payload:{input:e}}},m=function(e){return{type:"UPDATE_VALIDATING_FORM",payload:{validating:e}}},v=t(136),f=t(264),E=t(237),h=t(263),g=t(181);var b=Object(d.b)((function(e){return{dataLogin:e.dataLogin,validating:e.loginStatus.validating}}))((function(e){var a=e.options,t=e.dataLogin,n=e.validating,c=a.handleChange,o=a.handleSubmit;return r.a.createElement(v.a,{in:!0},r.a.createElement("form",{onSubmit:o},r.a.createElement("div",{className:"space"},r.a.createElement(f.a,{id:"user-input",name:"user",label:"Usuario",variant:"outlined",value:t.user,onChange:c,required:!0,autoFocus:!0})),r.a.createElement("div",{className:"space"},r.a.createElement(f.a,{id:"pass-input",name:"pass",label:"Contrase\xf1a",variant:"outlined",type:"password",value:t.pass,onChange:c,required:!0})),r.a.createElement("div",{className:"space"},r.a.createElement(E.a,{value:t.checkbox,onChange:c,control:r.a.createElement(h.a,{name:"checkbox",color:"primary"}),label:"Recordar en este equipo",labelPlacement:"end"})),r.a.createElement("div",{className:"space"},r.a.createElement(g.a,{estilo:"contained",colorsito:"primary",text:"Acceder",loading:n})),r.a.createElement("div",{className:"Copyright"},r.a.createElement("span",null,'\xa9 UEP APEP "La Candelaria" - 2020'),r.a.createElement("span",null,"Desarollado por Recker"))))})),S=function(e){var a,t,n=arguments;return u.a.async((function(r){for(;;)switch(r.prev=r.next){case 0:return n.length>1&&void 0!==n[1]&&n[1],r.prev=1,r.next=4,u.a.awrap(fetch(e));case 4:if(!(a=r.sent).ok){r.next=11;break}return r.next=8,u.a.awrap(a.json().then((function(e){t=e})));case 8:return r.abrupt("return",t);case 11:return r.abrupt("return","no_connect");case 12:r.next=17;break;case 14:return r.prev=14,r.t0=r.catch(1),r.abrupt("return",r.t0);case 17:case"end":return r.stop()}}),null,null,[[1,14]])},y=t(85),N=function(){return{type:"LOGIN_SUCCESS_FROM_LOGIN"}},x=t(49);var k={updateInputValue:p,updateValidating:m,updateDataUser:y.a,loginSinceFormSuccess:N},I=Object(d.b)((function(e){return{auth:e.loginStatus.auth}}),k)((function(e){var a=e.updateInputValue,t=e.updateValidating,n=e.auth,c=e.updateDataUser,o=e.loginSinceFormSuccess,l=Object(x.useSnackbar)().enqueueSnackbar,i=function(){var e;return u.a.async((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,u.a.awrap(S("https://my-json-server.typicode.com/recker112/candelariaweb/login"));case 2:"no_connect"!==(e=a.sent)?(console.log(e),l("Login exitoso",{variant:"success"}),c({cedula:"A-28432441",cedulaSin:"28432441",name:"Recker ortiz",curso:"",seccion:"",nota:"",horario:"",profeGuia:"",privilegio:"A-",avatar:"reckerSITO",token:"testDATA47"}),o()):l("No se pudo conectar con el servidor",{variant:"error"}),document.querySelectorAll(".headerNoPanel button").forEach((function(e){e.disabled=!1})),t(!1);case 6:case"end":return a.stop()}}))};return n?r.a.createElement(s.a,{to:{pathname:"/panel"}}):r.a.createElement(b,{options:{handleChange:function(e){a(e)},handleSubmit:function(e){e.preventDefault(),t(!0),document.querySelectorAll(".headerNoPanel button").forEach((function(e){e.disabled=!0})),setTimeout(i,2e3)}}})})),A=t(176);a.default=function(e){return e.auth,e.reloginSuccess,document.title="La Candelaria - Login",r.a.createElement(A.a,null,r.a.createElement("div",{className:"BoxPageIndex"},r.a.createElement("main",null,r.a.createElement(l.a,{in:!0,timeout:600},r.a.createElement("div",{className:"HeadMain"},r.a.createElement("span",{className:"IconBoxIndex"},r.a.createElement(o.a,{style:{fontSize:40}})),r.a.createElement("span",{className:"TitleIndex"},"La Candelaria"))),r.a.createElement(I,null))))}}}]);
//# sourceMappingURL=Index.99842d18.chunk.js.map