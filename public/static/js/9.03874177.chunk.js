(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[9],{277:function(e,a,t){"use strict";a.a=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_DIALOG",payload:{dialog:e,open:a,loading:t,data:n}}}},285:function(e,a,t){"use strict";t.d(a,"c",(function(){return w})),t.d(a,"b",(function(){return y})),t.d(a,"a",(function(){return C}));t(10),t(47),t(61);var n=t(48),r=t(88),c=t(0),i=t.n(c),o=t(455),l=t(456),s=t(492),u=t(460),m=t(584),d=t(461),f=t(464),p=t(601),g=t(465),b=t(466),E=t(234),v=(t(467),t(321)),j=t.n(v),O=t(346),h=t.n(O),x=(t(602),t(284));function w(e){var a=e.id,t=e.name,n=e.nameLabel,c=e.control,m=e.defaultValue,d=e.children,f=e.errors,p=e.customWidth,g=void 0!==p&&p,b=Object(r.a)(e,["id","name","nameLabel","control","defaultValue","children","errors","customWidth"]);return i.a.createElement(o.a,Object.assign({},b,{style:{width:g||"100%"},error:Boolean(f)}),i.a.createElement(l.a,{id:a+"-label"},n),i.a.createElement(x.a,{as:i.a.createElement(s.a,{labelId:a+"-label",id:a},d),name:t,control:c,defaultValue:m,rules:{required:{value:!0,message:"Campo requerido."}}}),i.a.createElement(u.a,null,null===f||void 0===f?void 0:f.message))}function y(e){var a=e.registerInput,t=e.data,n=e.defaultValue,r=void 0===n?null:n;return i.a.createElement(o.a,{component:"fieldset"},i.a.createElement(m.a,{color:t.color,component:"legend"},t.title),i.a.createElement(d.a,{defaultValue:r,"aria-label":t.name,name:t.name,row:!0},t.values.map((function(e,n){return i.a.createElement(f.a,{key:n,value:e.value,inputRef:a,control:i.a.createElement(p.a,{color:t.color}),label:e.name,labelPlacement:"end"})}))))}function C(e){var a=e.type,t=void 0===a?"text":a,r=e.name,o=e.registerInput,l=e.errors,s=e.defaultValue,u=e.label,m=e.variant,d=void 0===m?"outlined":m,f=e.textarea,p=void 0!==f&&f,v=e.maxRows,O=void 0===v?6:v,x=e.maxWidth,w=void 0!==x&&x,y=e.size,C=void 0===y?"medium":y,R=e.passwordMode,k=void 0!==R&&R,N=e.focus,A=void 0!==N&&N,T=e.disabledOnLoading,L=void 0===T?null:T,P=Object(c.useState)(!1),S=Object(n.a)(P,2),D=S[0],I=S[1],z={rows:4,rowsMax:O};return i.a.createElement(g.a,Object.assign({inputRef:o,type:k?D?"text":"password":t,name:r,defaultValue:s,label:u,size:C,disabled:null!==L&&L,error:Boolean(l),helperText:null===l||void 0===l?void 0:l.message,autoFocus:A,style:{width:"100%",maxWidth:w||"none"},variant:d,multiline:p,InputProps:{endAdornment:k?i.a.createElement(b.a,{position:"end"},i.a.createElement(E.a,{onClick:function(){I(!D)},size:C},D?i.a.createElement(h.a,null):i.a.createElement(j.a,null))):null}},z))}},292:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(146),i=r.a.forwardRef((function(e,a){return r.a.createElement(c.a,Object.assign({direction:"up",ref:a},e))}));a.a=i},298:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(206),i=t(467),o=t(204),l=t(115),s=Object(l.a)((function(e){return{progress:{position:"absolute"},progressLabel:{marginTop:5}}}));a.a=function(e){var a=e.loading,t=e.backDrop,n=void 0!==t&&t,l=e.children,u=function(e){var a=e.color,t=void 0===a?"primary":a,n=e.progressLabel,o=e.progressLoading,l=e.progress,u=s();return o&&l<=99?r.a.createElement(c.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(c.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(i.a,{color:t,variant:"static",value:l})),r.a.createElement("span",{className:u.progress},l,"%"),n&&r.a.createElement(c.a,{item:!0,xs:!0},r.a.createElement("span",{className:u.progressLabel},n))):r.a.createElement(i.a,{color:t})};return a&&!n?r.a.createElement(u,e):a&&n?r.a.createElement(o.a,{open:!0,style:{zIndex:200}},r.a.createElement(u,e)):l}},304:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(13),i=t(580),o=t(82),l=t(322),s=t.n(l),u=t(115),m=Object(u.a)((function(e){return{breadCrumbs:{marginBottom:e.spacing(2)}}}));a.a=function(){var e=m(),a=Object(c.h)().pathname.split("/");return a.splice(0,1),r.a.createElement(i.a,{separator:r.a.createElement(s.a,{fontSize:"small"}),"aria-label":"breadcrumb",className:e.breadCrumbs},a.map((function(e,t){if("panel"===e)return r.a.createElement(o.a,{key:t,color:t+1===a.length?"textPrimary":"initial"},"Gedure Panel");var n=e[0].toUpperCase()+e.slice(1);return r.a.createElement(o.a,{key:t,color:t+1===a.length?"textPrimary":"initial"},n)})))}},317:function(e,a,t){"use strict";t.d(a,"a",(function(){return I})),t.d(a,"b",(function(){return z}));var n=t(0),r=t.n(n),c=t(386),i=t.n(c),o=t(397),l=t.n(o),s=t(387),u=t.n(s),m=t(395),d=t.n(m),f=t(390),p=t.n(f),g=t(388),b=t.n(g),E=t(389),v=t.n(E),j=t(334),O=t.n(j),h=t(392),x=t.n(h),w=t(393),y=t.n(w),C=t(394),R=t.n(C),k=t(398),N=t.n(k),A=t(391),T=t.n(A),L=t(396),P=t.n(L),S=t(399),D=t.n(S),I={Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(i.a,Object.assign({},e,{ref:a}))})),Check:Object(n.forwardRef)((function(e,a){return r.a.createElement(u.a,Object.assign({},e,{ref:a}))})),Clear:Object(n.forwardRef)((function(e,a){return r.a.createElement(b.a,Object.assign({},e,{ref:a}))})),Delete:Object(n.forwardRef)((function(e,a){return r.a.createElement(v.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(n.forwardRef)((function(e,a){return r.a.createElement(p.a,Object.assign({},e,{ref:a}))})),Edit:Object(n.forwardRef)((function(e,a){return r.a.createElement(O.a,Object.assign({},e,{ref:a}))})),Export:Object(n.forwardRef)((function(e,a){return r.a.createElement(T.a,Object.assign({},e,{ref:a}))})),Filter:Object(n.forwardRef)((function(e,a){return r.a.createElement(x.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(y.a,Object.assign({},e,{ref:a}))})),LastPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(R.a,Object.assign({},e,{ref:a}))})),NextPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(p.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(d.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(n.forwardRef)((function(e,a){return r.a.createElement(b.a,Object.assign({},e,{ref:a}))})),Search:Object(n.forwardRef)((function(e,a){return r.a.createElement(P.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(n.forwardRef)((function(e,a){return r.a.createElement(l.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,a){return r.a.createElement(N.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(n.forwardRef)((function(e,a){return r.a.createElement(D.a,Object.assign({},e,{ref:a}))}))},z={body:{emptyDataSourceMessage:"No hay registros"},header:{actions:"Opciones"},toolbar:{searchPlaceholder:"Buscar",searchTooltip:"Buscar"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas"}}},320:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(502),i=t(503),o=t(504),l=t(505),s=t(506),u=t(233),m=t(292),d=t(23),f=t(277);a.a=function(e){var a=e.action,t=e.callback,n=Object(d.d)((function(e){return{open:e.dialogs.confirmAction.open,loading:e.dialogs.confirmAction.loading}})),p=n.open,g=n.loading,b=Object(d.c)();return r.a.createElement(c.a,{open:p,TransitionComponent:m.a,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description"},r.a.createElement(i.a,{id:"confirm-dialog-title"},"\xbfSeguro?"),r.a.createElement(o.a,null,r.a.createElement(l.a,{id:"confirm-dialog-description"},'Una vez realizada la acci\xf3n "',a,'" no se podr\xe1n deshacer los cambios.')),r.a.createElement(s.a,null,r.a.createElement(u.a,{disabled:g,onClick:function(){b(Object(f.a)("confirmAction",!1,!1))},color:"secondary"},"Cancelar"),r.a.createElement(u.a,{disabled:g,onClick:function(){b(Object(f.a)("confirmAction",!0,!0)),t()},color:"primary"},"Realizar")))}},605:function(e,a,t){"use strict";t.r(a);var n=t(47),r=t.n(n),c=t(61),i=t(0),o=t.n(i),l=t(253),s=t(206),u=t(233),m=t(115),d=t(362),f=t.n(d),p=t(321),g=t.n(p),b=t(334),E=t.n(b),v=t(363),j=t.n(v),O=t(323),h=t.n(O),x=t(13),w=t(102),y=t(317),C=t(304),R=t(365),k=t(48),N=t(502),A=t(256),T=t(237),L=t(504),P=t(82),S=t(464),D=t(598),I=t(579),z=t(75),F=t(284),_=t(292),B=t(298),V=t(285),q=t(23),M=t(277),U=Object(m.a)((function(e){return{appBar:{alignItems:"flex-end",position:"relative"},paddingTopDialog:{paddingTop:e.spacing(3)},button:{marginRight:e.spacing(1)},showCaracteres:{marginTop:e.spacing(1)}}}));var W=function(e){var a=e.tableRef,t=Object(i.useState)([]),n=Object(k.a)(t,2),m=n[0],d=n[1],p=Object(i.useState)(0),g=Object(k.a)(p,2),b=g[0],E=g[1],v=Object(q.d)((function(e){return{open:e.dialogs.createNotice.open,loading:e.dialogs.createNotice.loading,data:e.dialogs.createNotice.data}})),j=v.open,O=v.loading,h=v.data,x=Object(q.c)(),y=U(),C=Object(w.a)().fetchData,W=Object(F.c)(),G=W.register,J=W.handleSubmit,Q=W.errors,H=W.watch,K=Object(z.b)().enqueueSnackbar,X=Object(i.useCallback)((function(e){var a=Math.round(100*e.loaded/e.total);E(a)}),[]);return Object(i.useEffect)((function(){O&&function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",h.title),t.append("content",h.content.replace(/\r?\n/g,"</br>")),t.append("onlyUsers",h.onlyUsers),h.imgs.forEach((function(e){t.append("imgs[]",e.file)})),n={url:"v1/noticias",type:"post",data:t,otherData:{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:X}},e.next=8,C(n);case 8:e.sent?(a.current&&a.current.onQueryChange(),x(Object(M.a)("createNotice",!0,!1,"clear")),d([])):x(Object(M.a)("createNotice",!0,!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[O]),o.a.createElement(N.a,{open:j,TransitionComponent:_.a,fullScreen:!0},o.a.createElement(A.a,{className:y.appBar},o.a.createElement(T.a,null,o.a.createElement(u.a,{disabled:O,onClick:function(){x(Object(M.a)("createNotice",!1,!1,"clear")),d([])},className:y.button},"Cerrar"),o.a.createElement(B.a,{loading:O,progressLoading:!0,progress:b,color:"inherit"},o.a.createElement("label",{htmlFor:"submit-createNotice"},o.a.createElement(u.a,{variant:"contained",component:"span",endIcon:o.a.createElement(f.a,null)},"Crear"))))),o.a.createElement(L.a,{className:y.paddingTopDialog},o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(P.a,{className:"box__title box__title--opacity box__title--marginBottom"},"Crear una nueva noticia")),o.a.createElement(l.a,{maxWidth:"md"},o.a.createElement("form",{onSubmit:J((function(e){e.imgs=m,x(Object(M.a)("createNotice",!0,!0,e))})),autoComplete:"off"},o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{container:!0,spacing:2,item:!0,xs:12},o.a.createElement(s.a,{container:!0,justify:"center",item:!0,xs:12},o.a.createElement(V.a,{name:"title",label:"T\xedtulo",defaultValue:h.title||"",errors:null===Q||void 0===Q?void 0:Q.title,registerInput:G({required:{value:!0,message:"Campo requerido."},minLength:{value:6,message:"Campo no v\xe1lido."},maxLength:{value:100,message:"Campo demaciado grande."}}),disabledOnLoading:O,size:"small",maxWidth:"400px",focus:!0})),o.a.createElement(s.a,{container:!0,justify:"center",item:!0,xs:12},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(V.a,{name:"content",label:"Contenido",defaultValue:h.content||"",errors:null===Q||void 0===Q?void 0:Q.content,registerInput:G({required:{value:!0,message:"Campo requerido."},minLength:{value:20,message:"Campo no v\xe1lido."},maxLength:{value:5e4,message:"Campo demaciado grande."}}),disabledOnLoading:O,textarea:!0,maxRows:16})),(null===Q||void 0===Q?void 0:Q.contenido)?o.a.createElement(P.a,{style:{color:"#f44336"},className:y.showCaracteres},"".concat((H("content")||"").length,"/").concat(5e4," caracteres")):o.a.createElement(P.a,{className:y.showCaracteres},"".concat((H("content")||"").length,"/").concat(5e4," caracteres"))),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(P.a,{className:"box__subtitle box__title--opacity box_title--margin"},"Opciones adicionales")),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(S.a,{control:o.a.createElement(D.a,{name:"onlyUsers",inputRef:G,color:"secondary"}),label:"Disponible solo para usuarios"})),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(I.a,{fileObjects:m,acceptedFiles:["image/png","image/jpeg"],showPreviewsInDropzone:!1,showPreviews:!0,previewText:"Imagenes selecionadas:",onAdd:function(e){e=e.filter((function(e){return!m.find((function(a){return a.data===e.data}))})),d([].concat(Object(R.a)(m),Object(R.a)(e)))},onDelete:function(e){d(m.filter((function(a){return a!==e})))},filesLimit:10,showAlerts:!1,previewGridProps:{container:{spacing:2},item:{xs:!0}},maxFileSize:5e6,getFileLimitExceedMessage:function(e){return"Solo se permiten hasta ".concat(e," imagenes")},getFileAddedMessage:function(e){return"Archivo ".concat(e," agregado")},getFileRemovedMessage:function(e){return"Archivo ".concat(e," removido")},onAlert:function(e,a){K(e,{variant:a})},dropzoneText:"Arrastrar o cargar imagenes"})))),o.a.createElement("input",{type:"submit",style:{display:"none"},id:"submit-createNotice"}))))))},G=t(320),J=Object(m.a)((function(e){return{breadCrumbs:{marginBottom:e.spacing(2)},margin:{marginTop:e.spacing(4),marginBottom:e.spacing(3)},padding:{padding:e.spacing(2)},marginFinish:{marginBottom:e.spacing(3)}}}));a.default=function(){var e=Object(i.useRef)(null),a=J(),t=Object(x.g)(),n=Object(q.d)((function(e){return{data:e.dialogs.confirmAction.data,loading:e.dialogs.confirmAction.loading}})),m=n.data,d=n.loading,p=Object(q.c)(),b=Object(w.a)().fetchData,v=function(){var a=Object(c.a)(r.a.mark((function a(){var t,n;return r.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={url:"v1/noticias/".concat(m.id),type:"delete"},a.next=3,b(t);case 3:n=a.sent,p(Object(M.a)("confirmAction",!1,!0)),n&&e.current&&e.current.onQueryChange();case 6:case"end":return a.stop()}}),a)})));return function(){return a.apply(this,arguments)}}(),O=Object(i.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(a){var t,n,c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d&&(a.page=0,p(Object(M.a)("confirmAction",!1,!1))),t={url:"v1/noticias/admin?page=".concat(a.page,"&per_page=").concat(a.pageSize,"&search=").concat(a.search),type:"get",messageToFinish:!1},e.next=4,b(t);case 4:if(!(n=e.sent)){e.next=10;break}return c={data:n.data||[],page:n.page||0,totalCount:n.totalLogs||0},e.abrupt("return",c);case 10:return e.abrupt("return",{data:[],page:0,totalCount:0});case 11:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[d]);return o.a.createElement(l.a,{maxWidth:"md",className:a.marginFinish},o.a.createElement(s.a,{container:!0,className:a.margin,spacing:2},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(C.a,null)),o.a.createElement(s.a,{container:!0,justify:"flex-end",item:!0,xs:12},o.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){p(Object(M.a)("createNotice",!0,!1))},startIcon:o.a.createElement(f.a,null)},"A\xf1adir"))),o.a.createElement(h.a,{tableRef:e,title:"Lista de noticias",icons:y.a,columns:[{title:"T\xedtulo",field:"title"},{title:"Due\xf1o",field:"user",render:function(e){var a,t;return(null===(a=e.user)||void 0===a?void 0:a.privilegio)+(null===(t=e.user)||void 0===t?void 0:t.cedula)||"Ninguno"}},{title:"Fecha de publicaci\xf3n",field:"created_at"}],data:O,localization:y.b,actions:[{icon:function(){return o.a.createElement(g.a,null)},tooltip:"Ver",onClick:function(e,a){t.push("/noticias/"+a.id)}},{icon:function(){return o.a.createElement(E.a,null)},tooltip:"Editar",onClick:function(e,a){}},{icon:function(){return o.a.createElement(j.a,null)},tooltip:"Eliminar",onClick:function(e,a){p(Object(M.a)("confirmAction",!0,!1,{id:a.id}))}}],options:{actionsColumnIndex:-1}}),o.a.createElement(W,{tableRef:e}),o.a.createElement(G.a,{action:"Eliminar noticia #".concat(m.id),callback:v}))}}}]);
//# sourceMappingURL=9.03874177.chunk.js.map