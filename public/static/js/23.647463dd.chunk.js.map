{"version":3,"sources":["components/reutilizar/donwloadFiles.js","views/panel/contentChangeUser/boletas/RenderBoletas.js"],"names":["downloadFilesNotResponse","url","link","document","createElement","href","fileName","split","length","setAttribute","body","appendChild","click","downloadFiles","response","fileExtension","window","URL","createObjectURL","Blob","RenderContent","query","setQuery","text","container","spacing","justify","item","xs","sm","md","className","Container","style","textAlign","variant","color","onClick","marginTop","RenderBoletas","axios","useState","enqueueSnackbar","useSnackbar","useEffect","a","get","responseType","res","donwloadFiles","data","status","fetchData"],"mappings":"+HAAA,sCAeaA,EAA2B,SAACC,GAExC,IAAMC,EAAOC,SAASC,cAAc,KAEpCF,EAAKG,KAAOJ,EAEZ,IAAIK,EAAWL,EAAIM,MAAM,KACzBD,EAAWA,EAASA,EAASE,OAAS,GAEtCN,EAAKO,aAAa,WAAlB,UAAiCH,IAEjCH,SAASO,KAAKC,YAAYT,GAE1BA,EAAKU,SAGSC,IA/BO,SAACC,EAAUR,EAAUS,GAE1C,IAAMd,EAAMe,OAAOC,IAAIC,gBAAgB,IAAIC,KAAK,CAACL,KAE3CZ,EAAOC,SAASC,cAAc,KAEpCF,EAAKG,KAAOJ,EAEZC,EAAKO,aAAa,WAAlB,UAAiCH,EAAjC,YAA6CS,IAE7CZ,SAASO,KAAKC,YAAYT,GAE1BA,EAAKU,U,0ICiEN,SAASQ,EAAT,GAA6C,IAApBC,EAAmB,EAAnBA,MAAOC,EAAY,EAAZA,SACzBC,EAAOF,EAAQ,qBAAuB,qBAE5C,OACC,kBAAC,IAAD,CAAMG,WAAS,EAACC,QAAS,EAAGC,QAAQ,UACnC,kBAAC,IAAD,CAAMC,MAAI,EAACC,GAAI,GAAIC,GAAI,EAAGC,GAAI,GAC7B,kBAAC,IAAD,CAAOC,UAAU,OAChB,0BAAMA,UAAU,cAAcR,GAC9B,yBAAKQ,UAAU,gBACd,kBAAC,IAAD,CAAMC,WAAS,EAACP,QAAS,EAAGC,QAAQ,WACjCL,GACD,kBAAC,IAAD,CAAMM,MAAI,EAACC,GAAI,GAAIK,MAAO,CAACC,UAAW,WACrC,kBAAC,IAAD,CACCC,QAAQ,WACRC,MAAM,UACNC,QAAS,WACRf,GAAS,IAEVW,MAAO,CAACK,UAAW,SANpB,oBAoBMC,UAlGf,WAEC,IAAMC,EAAQxB,OAAOwB,MAFE,EAIGC,oBAAS,GAJZ,mBAIhBpB,EAJgB,KAITC,EAJS,KAOfoB,EAAoBC,cAApBD,gBAsDR,OAnDAE,qBAAU,WA8CLvB,GA7CW,uCAAG,8BAAAwB,EAAA,+EAEAL,EAAMM,IAAI,sBAAuB,CAChDC,aAAc,SAHC,OAEZC,EAFY,OAOhBC,YAAcD,EAAIE,KAAM,SAAU,OAGlC5B,GAAS,GAVO,gDAYZ,KAAMR,SAIM,OAFPqC,EAAW,KAAMrC,SAAjBqC,QAGPT,EAAgB,sCAAoC,CACnDP,QAAS,YAGVO,EADqB,MAAXS,EACM,4BAGK,MAAXA,EACM,sCAGK,MAAXA,EACM,gDAIA,8BAZ6B,CAC5ChB,QAAS,UAgBXO,EAAgB,8BAA+B,CAC9CP,QAAS,UAvCK,yDAAH,oDA8CdiB,KAEC,CAAC/B,EAAOC,EAAUkB,EAAOE,IAG3B,kBAACtB,EAAD,CAAeC,MAAOA,EAAOC,SAAUA","file":"static/js/23.647463dd.chunk.js","sourcesContent":["const downloadFiles = (response, fileName, fileExtension) => {\n\t//Url del archivo\n\tconst url = window.URL.createObjectURL(new Blob([response]));\n\t//Elemento Link\n\tconst link = document.createElement('a');\n\t//Linkear url\n\tlink.href = url;\n\t//Atributos,\n\tlink.setAttribute('download', `${fileName}.${fileExtension}`);\n\t//Insertar elemento\n\tdocument.body.appendChild(link);\n\t//Descargar\n\tlink.click();\n}\n\nexport const downloadFilesNotResponse = (url) => {\n\t//Elemento Link\n\tconst link = document.createElement('a');\n\t//Linkear url\n\tlink.href = url;\n\t//Obtener nombre del archivo\n\tlet fileName = url.split('/');\n\tfileName = fileName[fileName.length - 1];\n\t//Atributos,\n\tlink.setAttribute('download', `${fileName}`);\n\t//Insertar elemento\n\tdocument.body.appendChild(link);\n\t//Descargar\n\tlink.click();\n}\n\nexport default downloadFiles;","import React, { useEffect, useState } from 'react';\n\n//Components\nimport donwloadFiles from '../../../../components/reutilizar/donwloadFiles';\n\n//Material-UI\nimport { Button, Grid, Paper } from '@material-ui/core';\n\n//NotiStack\nimport { useSnackbar } from 'notistack';\n\nfunction RenderBoletas(){\n\t// Global Const\n\tconst axios = window.axios;\n\t\n\tconst [query, setQuery] = useState(true);\n\t\n\t//Crear un SnackBar\n\tconst { enqueueSnackbar } = useSnackbar();\n\t\n\t//Verificar si ya está la query\n\tuseEffect(()=> {\n\t\tconst fetchData = async () => {\n\t\t\ttry{\n\t\t\t\tlet res = await axios.get('api/archivos/boleta', {\n\t\t\t\t\tresponseType: 'blob'\n\t\t\t\t});\n\n\t\t\t\t// Descargar archivo\n\t\t\t\tdonwloadFiles(res.data, 'boleta', 'pdf');\n\t\t\t\t\n\t\t\t\t// Terminar query\n\t\t\t\tsetQuery(false);\n\t\t\t} catch (error) {\n\t\t\t\tif (error.response){\n\t\t\t\t\t//Errores HTTP\n\t\t\t\t\tconst { status } = error.response;\n\n\t\t\t\t\tif (status === 400) {\n\t\t\t\t\t\tenqueueSnackbar('Su boleta aún no ha sido cargada', {\n\t\t\t\t\t\t\tvariant: 'warning'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (status === 403) {\n\t\t\t\t\t\tenqueueSnackbar('Tu boleta fue desactivada', {\n\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (status === 422) {\n\t\t\t\t\t\tenqueueSnackbar('El servidor rechazó tu solicitud', {\n\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else if (status === 500) {\n\t\t\t\t\t\tenqueueSnackbar('No se ha podido conectar con la base de datos', {\n\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\tenqueueSnackbar('Error interno en el sistema', {\n\t\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t}else {\n\t\t\t\t\tenqueueSnackbar('Error interno en el sistema', {\n\t\t\t\t\t\tvariant: 'error'\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t\n\t\tif (query) {\n\t\t\tfetchData();\n\t\t}\n\t}, [query, setQuery, axios, enqueueSnackbar]);\n\t\n\treturn (\n\t\t<RenderContent query={query} setQuery={setQuery} />\n\t)\n}\n\nfunction RenderContent({ query, setQuery }) {\n\tconst text = query ? 'Buscando boleta...' : 'Respuesta obtenida';\n\t\n\treturn (\n\t\t<Grid container spacing={2} justify=\"center\">\n\t\t\t<Grid item xs={12} sm={5} md={3}>\n\t\t\t\t<Paper className=\"Box\">\n\t\t\t\t\t<span className=\"Box__Title\">{text}</span>\n\t\t\t\t\t<div className=\"Box__Content\">\n\t\t\t\t\t\t<Grid Container spacing={2} justify=\"center\">\n\t\t\t\t\t\t\t{!query && (\n\t\t\t\t\t\t\t\t<Grid item xs={12} style={{textAlign: 'center'}}>\n\t\t\t\t\t\t\t\t\t<Button \n\t\t\t\t\t\t\t\t\t\tvariant='outlined' \n\t\t\t\t\t\t\t\t\t\tcolor='inherit' \n\t\t\t\t\t\t\t\t\t\tonClick={() => {\n\t\t\t\t\t\t\t\t\t\t\tsetQuery(true);\n\t\t\t\t\t\t\t\t\t\t}}\n\t\t\t\t\t\t\t\t\t\tstyle={{marginTop: '20px'}}\n\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\tReintentar\n\t\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t)}\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</div>\n\t\t\t\t</Paper>\n\t\t\t</Grid>\n\t\t</Grid>\n\t);\n}\n\nexport default RenderBoletas;"],"sourceRoot":""}