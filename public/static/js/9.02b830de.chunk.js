(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[9],{284:function(e,a,t){"use strict";t.d(a,"c",(function(){return w})),t.d(a,"b",(function(){return y})),t.d(a,"a",(function(){return C}));t(13),t(48),t(61);var n=t(47),r=t(88),c=t(0),i=t.n(c),o=t(451),l=t(452),s=t(489),u=t(456),m=t(578),d=t(457),f=t(460),p=t(600),g=t(461),b=t(462),E=t(234),v=(t(463),t(320)),j=t.n(v),O=t(345),h=t.n(O),x=(t(601),t(283));function w(e){var a=e.id,t=e.name,n=e.nameLabel,c=e.control,m=e.defaultValue,d=e.children,f=e.errors,p=e.customWidth,g=void 0!==p&&p,b=Object(r.a)(e,["id","name","nameLabel","control","defaultValue","children","errors","customWidth"]);return i.a.createElement(o.a,Object.assign({},b,{style:{width:g||"100%"},error:Boolean(f)}),i.a.createElement(l.a,{id:a+"-label"},n),i.a.createElement(x.a,{as:i.a.createElement(s.a,{labelId:a+"-label",id:a},d),name:t,control:c,defaultValue:m,rules:{required:{value:!0,message:"Campo requerido."}}}),i.a.createElement(u.a,null,null===f||void 0===f?void 0:f.message))}function y(e){var a=e.registerInput,t=e.data,n=e.defaultValue,r=void 0===n?null:n;return i.a.createElement(o.a,{component:"fieldset"},i.a.createElement(m.a,{color:t.color,component:"legend"},t.title),i.a.createElement(d.a,{defaultValue:r,"aria-label":t.name,name:t.name,row:!0},t.values.map((function(e,n){return i.a.createElement(f.a,{key:n,value:e.value,inputRef:a,control:i.a.createElement(p.a,{color:t.color}),label:e.name,labelPlacement:"end"})}))))}function C(e){var a=e.type,t=void 0===a?"text":a,r=e.name,o=e.registerInput,l=e.errors,s=e.defaultValue,u=e.label,m=e.variant,d=void 0===m?"outlined":m,f=e.textarea,p=void 0!==f&&f,v=e.maxRows,O=void 0===v?6:v,x=e.maxWidth,w=void 0!==x&&x,y=e.size,C=void 0===y?"medium":y,R=e.passwordMode,N=void 0!==R&&R,T=e.focus,k=void 0!==T&&T,L=e.disabledOnLoading,P=void 0===L?null:L,D=Object(c.useState)(!1),S=Object(n.a)(D,2),I=S[0],F=S[1],_={rows:4,rowsMax:O};return i.a.createElement(g.a,Object.assign({inputRef:o,type:N?I?"text":"password":t,name:r,defaultValue:s,label:u,size:C,disabled:null!==P&&P,error:Boolean(l),helperText:null===l||void 0===l?void 0:l.message,autoFocus:k,style:{width:"100%",maxWidth:w||"none"},variant:d,multiline:p,InputProps:{endAdornment:N?i.a.createElement(b.a,{position:"end"},i.a.createElement(E.a,{onClick:function(){F(!I)},size:C},I?i.a.createElement(h.a,null):i.a.createElement(j.a,null))):null}},_))}},296:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(206),i=t(463),o=t(204),l=t(115),s=Object(l.a)((function(e){return{progress:{position:"absolute"},progressLabel:{marginTop:5}}}));a.a=function(e){var a=e.loading,t=e.backDrop,n=void 0!==t&&t,l=e.children,u=function(e){var a=e.color,t=void 0===a?"primary":a,n=e.progressLabel,o=e.progressLoading,l=e.progress,u=s();return o&&l<=99?r.a.createElement(c.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(c.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(i.a,{color:t,variant:"static",value:l})),r.a.createElement("span",{className:u.progress},l,"%"),n&&r.a.createElement(c.a,{item:!0,xs:!0},r.a.createElement("span",{className:u.progressLabel},n))):r.a.createElement(i.a,{color:t})};return a&&!n?r.a.createElement(u,e):a&&n?r.a.createElement(o.a,{open:!0,style:{zIndex:200}},r.a.createElement(u,e)):l}},301:function(e,a,t){"use strict";a.a=function(e,a,t){var n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return{type:"UPDATE_DIALOG",payload:{dialog:e,open:a,loading:t,data:n}}}},303:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(12),i=t(575),o=t(82),l=t(321),s=t.n(l),u=t(115),m=Object(u.a)((function(e){return{breadCrumbs:{marginBottom:e.spacing(2)}}}));a.a=function(){var e=m(),a=Object(c.h)().pathname.split("/");return a.splice(0,1),r.a.createElement(i.a,{separator:r.a.createElement(s.a,{fontSize:"small"}),"aria-label":"breadcrumb",className:e.breadCrumbs},a.map((function(e,t){if("panel"===e)return r.a.createElement(o.a,{key:t,color:t+1===a.length?"textPrimary":"initial"},"Gedure Panel");var n=e[0].toUpperCase()+e.slice(1);return r.a.createElement(o.a,{key:t,color:t+1===a.length?"textPrimary":"initial"},n)})))}},316:function(e,a,t){"use strict";t.d(a,"a",(function(){return F})),t.d(a,"b",(function(){return _}));var n=t(0),r=t.n(n),c=t(383),i=t.n(c),o=t(394),l=t.n(o),s=t(384),u=t.n(s),m=t(392),d=t.n(m),f=t(387),p=t.n(f),g=t(385),b=t.n(g),E=t(386),v=t.n(E),j=t(333),O=t.n(j),h=t(389),x=t.n(h),w=t(390),y=t.n(w),C=t(391),R=t.n(C),N=t(395),T=t.n(N),k=t(388),L=t.n(k),P=t(393),D=t.n(P),S=t(396),I=t.n(S),F={Add:Object(n.forwardRef)((function(e,a){return r.a.createElement(i.a,Object.assign({},e,{ref:a}))})),Check:Object(n.forwardRef)((function(e,a){return r.a.createElement(u.a,Object.assign({},e,{ref:a}))})),Clear:Object(n.forwardRef)((function(e,a){return r.a.createElement(b.a,Object.assign({},e,{ref:a}))})),Delete:Object(n.forwardRef)((function(e,a){return r.a.createElement(v.a,Object.assign({},e,{ref:a}))})),DetailPanel:Object(n.forwardRef)((function(e,a){return r.a.createElement(p.a,Object.assign({},e,{ref:a}))})),Edit:Object(n.forwardRef)((function(e,a){return r.a.createElement(O.a,Object.assign({},e,{ref:a}))})),Export:Object(n.forwardRef)((function(e,a){return r.a.createElement(L.a,Object.assign({},e,{ref:a}))})),Filter:Object(n.forwardRef)((function(e,a){return r.a.createElement(x.a,Object.assign({},e,{ref:a}))})),FirstPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(y.a,Object.assign({},e,{ref:a}))})),LastPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(R.a,Object.assign({},e,{ref:a}))})),NextPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(p.a,Object.assign({},e,{ref:a}))})),PreviousPage:Object(n.forwardRef)((function(e,a){return r.a.createElement(d.a,Object.assign({},e,{ref:a}))})),ResetSearch:Object(n.forwardRef)((function(e,a){return r.a.createElement(b.a,Object.assign({},e,{ref:a}))})),Search:Object(n.forwardRef)((function(e,a){return r.a.createElement(D.a,Object.assign({},e,{ref:a}))})),SortArrow:Object(n.forwardRef)((function(e,a){return r.a.createElement(l.a,Object.assign({},e,{ref:a}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,a){return r.a.createElement(T.a,Object.assign({},e,{ref:a}))})),ViewColumn:Object(n.forwardRef)((function(e,a){return r.a.createElement(I.a,Object.assign({},e,{ref:a}))}))},_={body:{emptyDataSourceMessage:"No hay registros"},header:{actions:"Opciones"},toolbar:{searchPlaceholder:"Buscar",searchTooltip:"Buscar"},pagination:{labelDisplayedRows:"{from}-{to} de {count}",firstTooltip:"Primera p\xe1gina",previousTooltip:"P\xe1gina anterior",nextTooltip:"Pr\xf3xima p\xe1gina",lastTooltip:"\xdaltima p\xe1gina",labelRowsSelect:"filas"}}},317:function(e,a,t){"use strict";var n=t(0),r=t.n(n),c=t(146),i=r.a.forwardRef((function(e,a){return r.a.createElement(c.a,Object.assign({direction:"up",ref:a},e))}));a.a=i},604:function(e,a,t){"use strict";t.r(a);var n=t(48),r=t.n(n),c=t(61),i=t(0),o=t.n(i),l=t(253),s=t(206),u=t(233),m=t(115),d=t(361),f=t.n(d),p=t(320),g=t.n(p),b=t(333),E=t.n(b),v=t(362),j=t.n(v),O=t(322),h=t.n(O),x=t(104),w=t(316),y=t(303),C=t(488),R=t(47),N=t(586),T=t(256),k=t(237),L=t(587),P=t(82),D=t(460),S=t(597),I=t(574),F=t(75),_=t(283),A=t(317),z=t(296),B=t(284),V=t(23),q=t(301),M=Object(m.a)((function(e){return{appBar:{alignItems:"flex-end",position:"relative"},paddingTopDialog:{paddingTop:e.spacing(3)},button:{marginRight:e.spacing(1)},showCaracteres:{marginTop:e.spacing(1)}}}));var W=function(e){var a=e.tableRef,t=Object(i.useState)([]),n=Object(R.a)(t,2),m=n[0],d=n[1],p=Object(i.useState)(0),g=Object(R.a)(p,2),b=g[0],E=g[1],v=Object(V.d)((function(e){return{open:e.dialogs.createNotice.open,loading:e.dialogs.createNotice.loading,data:e.dialogs.createNotice.data}})),j=v.open,O=v.loading,h=v.data,w=Object(V.c)(),y=M(),W=Object(x.a)().fetchData,U=Object(_.c)(),G=U.register,J=U.handleSubmit,Q=U.errors,H=U.watch,K=Object(F.b)().enqueueSnackbar,X=Object(i.useCallback)((function(e){var a=Math.round(100*e.loaded/e.total);E(a)}),[]);return Object(i.useEffect)((function(){O&&function(){var e=Object(c.a)(r.a.mark((function e(){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(t=new FormData).append("title",h.title),t.append("content",h.content.replace(/\r?\n/g,"</br>")),t.append("onlyUsers",h.onlyUsers),h.imgs.forEach((function(e){t.append("imgs[]",e.file)})),n={url:"v1/noticias",type:"post",data:t,otherData:{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:X}},e.next=8,W(n);case 8:e.sent?(a.current&&a.current.onQueryChange(),w(Object(q.a)("createNotice",!0,!1,"clear")),d([])):w(Object(q.a)("createNotice",!0,!1));case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()()}),[O]),o.a.createElement(N.a,{open:j,TransitionComponent:A.a,fullScreen:!0},o.a.createElement(T.a,{className:y.appBar},o.a.createElement(k.a,null,o.a.createElement(u.a,{disabled:O,onClick:function(){w(Object(q.a)("createNotice",!1,!1,"clear")),d([])},className:y.button},"Cerrar"),o.a.createElement(z.a,{loading:O,progressLoading:!0,progress:b,color:"inherit"},o.a.createElement("label",{htmlFor:"submit-createNotice"},o.a.createElement(u.a,{variant:"contained",component:"span",endIcon:o.a.createElement(f.a,null)},"Crear"))))),o.a.createElement(L.a,{className:y.paddingTopDialog},o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(P.a,{className:"box__title box__title--opacity box__title--marginBottom"},"Crear una nueva noticia")),o.a.createElement(l.a,{maxWidth:"md"},o.a.createElement("form",{onSubmit:J((function(e){e.imgs=m,w(Object(q.a)("createNotice",!0,!0,e))})),autoComplete:"off"},o.a.createElement(s.a,{container:!0},o.a.createElement(s.a,{container:!0,spacing:2,item:!0,xs:12},o.a.createElement(s.a,{container:!0,justify:"center",item:!0,xs:12},o.a.createElement(B.a,{name:"title",label:"T\xedtulo",defaultValue:h.title||"",errors:null===Q||void 0===Q?void 0:Q.title,registerInput:G({required:{value:!0,message:"Campo requerido."},minLength:{value:6,message:"Campo no v\xe1lido."},maxLength:{value:100,message:"Campo demaciado grande."}}),disabledOnLoading:O,size:"small",maxWidth:"400px",focus:!0})),o.a.createElement(s.a,{container:!0,justify:"center",item:!0,xs:12},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(B.a,{name:"content",label:"Contenido",defaultValue:h.content||"",errors:null===Q||void 0===Q?void 0:Q.content,registerInput:G({required:{value:!0,message:"Campo requerido."},minLength:{value:20,message:"Campo no v\xe1lido."},maxLength:{value:5e4,message:"Campo demaciado grande."}}),disabledOnLoading:O,textarea:!0,maxRows:12})),(null===Q||void 0===Q?void 0:Q.contenido)?o.a.createElement(P.a,{style:{color:"#f44336"},className:y.showCaracteres},"".concat((H("content")||"").length,"/").concat(5e4," caracteres")):o.a.createElement(P.a,{className:y.showCaracteres},"".concat((H("content")||"").length,"/").concat(5e4," caracteres"))),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(P.a,{className:"box__subtitle box__title--opacity box_title--margin"},"Opciones adicionales")),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(D.a,{control:o.a.createElement(S.a,{name:"onlyUsers",inputRef:G,color:"secondary"}),label:"Disponible solo para usuarios"})),o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(I.a,{fileObjects:m,acceptedFiles:["image/png","image/jpeg"],showPreviewsInDropzone:!1,showPreviews:!0,previewText:"Imagenes selecionadas:",onAdd:function(e){e=e.filter((function(e){return!m.find((function(a){return a.data===e.data}))})),d([].concat(Object(C.a)(m),Object(C.a)(e)))},onDelete:function(e){d(m.filter((function(a){return a!==e})))},filesLimit:10,showAlerts:!1,previewGridProps:{container:{spacing:2},item:{xs:!0}},maxFileSize:5e6,getFileLimitExceedMessage:function(e){return"Solo se permiten hasta ".concat(e," imagenes")},getFileAddedMessage:function(e){return"Archivo ".concat(e," agregado")},getFileRemovedMessage:function(e){return"Archivo ".concat(e," removido")},onAlert:function(e,a){K(e,{variant:a})},dropzoneText:"Arrastrar o cargar imagenes"})))),o.a.createElement("input",{type:"submit",style:{display:"none"},id:"submit-createNotice"}))))))},U=Object(m.a)((function(e){return{breadCrumbs:{marginBottom:e.spacing(2)},margin:{marginTop:e.spacing(4),marginBottom:e.spacing(3)},padding:{padding:e.spacing(2)},marginFinish:{marginBottom:e.spacing(3)}}}));a.default=function(){var e=Object(i.useRef)(null),a=U(),t=Object(V.c)(),n=Object(x.a)().fetchData,m=Object(i.useCallback)(function(){var e=Object(c.a)(r.a.mark((function e(a){var t,c,i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"v1/noticias/admin?page=".concat(a.page,"&per_page=").concat(a.pageSize,"&search=").concat(a.search),type:"get",messageToFinish:!1},e.next=3,n(t);case 3:if(!(c=e.sent)){e.next=9;break}return i={data:c.data||[],page:c.page||0,totalCount:c.totalLogs||0},e.abrupt("return",i);case 9:return e.abrupt("return",{data:[],page:0,totalCount:0});case 10:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[]);return o.a.createElement(l.a,{maxWidth:"md",className:a.marginFinish},o.a.createElement(s.a,{container:!0,className:a.margin,spacing:2},o.a.createElement(s.a,{item:!0,xs:12},o.a.createElement(y.a,null)),o.a.createElement(s.a,{container:!0,justify:"flex-end",item:!0,xs:12},o.a.createElement(u.a,{variant:"contained",color:"primary",onClick:function(){t(Object(q.a)("createNotice",!0,!1))},startIcon:o.a.createElement(f.a,null)},"A\xf1adir"))),o.a.createElement(h.a,{title:"Lista de noticias",icons:w.a,columns:[{title:"T\xedtulo",field:"title"},{title:"Due\xf1o",field:"user",render:function(e){return e.user.privilegio+e.user.cedula}},{title:"Fecha de publicaci\xf3n",field:"created_at"}],data:m,localization:w.b,actions:[{icon:function(){return o.a.createElement(g.a,null)},tooltip:"Ver",onClick:function(e,a){}},{icon:function(){return o.a.createElement(E.a,null)},tooltip:"Editar",onClick:function(e,a){}},{icon:function(){return o.a.createElement(j.a,null)},tooltip:"Eliminar",onClick:function(e,a){}}],options:{actionsColumnIndex:-1}}),o.a.createElement(W,{tableRef:e}))}}}]);
//# sourceMappingURL=9.02b830de.chunk.js.map