{"version":3,"sources":["components/RendersGlobals.js","components/LoadingComponent.js","actions/updateDataUser.js","actions/updateAuth.js","views/login/ReloginComponent.js","actions/updateForms.js","views/login/Main.js"],"names":["RenderInput","props","type","name","registerInput","errors","defaultValue","label","variant","textarea","maxRows","maxWidth","size","passwordMode","focus","disabledOnLoading","useState","visibility","setVisibility","textareaConfig","rows","rowsMax","TextField","inputRef","disabled","error","Boolean","helperText","message","autoFocus","style","width","multiline","InputProps","endAdornment","InputAdornment","position","IconButton","onClick","LoadingComponent","loading","color","backDrop","children","CircularProgress","Backdrop","open","zIndex","updateDataUser","valor","payload","updateAuth","mapDispatchToProps","logoutApp","connect","state","auth","userData","theme","settings","tema","access_key","waitAuth","setWaitAuth","fetchData","useFetch","history","useHistory","from","useLocation","pathname","useEffect","cancel","consult","key","a","prepareDate","url","data","headers","Authorization","successText","response","keyL","JSON","parse","localStorage","getItem","keyS","sessionStorage","length","push","replace","updateForms","form","inputs","useStyles","makeStyles","root","flexGrow","margin","marginTop","spacing","marginBottom","login__welcome","background","palette","primary","main","padding","breakpoints","down","borderRadius","up","height","login__box","button","login__recovery","cursor","PanelWelcome","classes","Slide","in","direction","mountOnEnter","unmountOnExit","Box","className","Grid","container","item","src","logo","alt","justify","alignItems","Typography","textAlign","Form","useForm","register","handleSubmit","user","password","onSubmit","checkbox","setItem","stringify","Paper","required","value","minLength","FormControlLabel","control","Checkbox","Button","component","forms","login","ref","document","title","Container","display","xs","sm","md"],"mappings":"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","file":"static/js/9.9f63c927.chunk.js","sourcesContent":["import React, { useState } from 'react';\n\n//Material-UI\nimport { TextField, InputAdornment, IconButton } from '@material-ui/core';\nimport Visibility from '@material-ui/icons/Visibility';\nimport VisibilityOff from '@material-ui/icons/VisibilityOff';\n\nexport function RenderInput(props) {\n\tconst {\n\t\ttype='text',\n\t\tname,\n\t\tregisterInput,\n\t\terrors,\n\t\tdefaultValue,\n\t\tlabel,\n\t\tvariant = 'outlined',\n\t\ttextarea = false,\n\t\tmaxRows = 6,\n\t\tmaxWidth = false,\n\t\tsize = 'medium',\n\t\tpasswordMode = false,\n\t\tfocus = false,\n\t\tdisabledOnLoading = null,\n\t} = props;\n\n\tconst [visibility, setVisibility] = useState(false);\n\n\tconst handleClick = () => {\n\t\tsetVisibility(!visibility);\n\t};\n\n\tconst textareaConfig = {\n\t\trows: 4,\n\t\trowsMax: maxRows,\n\t};\n\treturn (\n\t\t<TextField\n\t\t\tinputRef={registerInput}\n\t\t\ttype={passwordMode ? (visibility ? 'text' : 'password') : type}\n\t\t\tname={name}\n\t\t\tdefaultValue={defaultValue}\n\t\t\tlabel={label}\n\t\t\tsize={size}\n\t\t\tdisabled={disabledOnLoading !== null && disabledOnLoading}\n\t\t\terror={Boolean(errors)}\n\t\t\thelperText={errors?.message}\n\t\t\tautoFocus={focus}\n\t\t\tstyle={{ width: '100%', maxWidth: maxWidth ? maxWidth : 'none' }}\n\t\t\tvariant={variant}\n\t\t\tmultiline={textarea}\n\t\t\tInputProps={{\n\t\t\t\tendAdornment: passwordMode ? (\n\t\t\t\t\t<InputAdornment position=\"end\">\n\t\t\t\t\t\t<IconButton onClick={handleClick} size={size}>\n\t\t\t\t\t\t\t{visibility ?  <VisibilityOff /> : <Visibility />}\n\t\t\t\t\t\t</IconButton>\n\t\t\t\t\t</InputAdornment>\n\t\t\t\t) : null,\n\t\t\t}}\n\t\t\t{...textareaConfig}\n\t\t/>\n\t);\n}","import React from 'react';\n\nimport { CircularProgress, Backdrop } from '@material-ui/core';\n\nfunction LoadingComponent(props) {\n\tconst { loading, color='primary', backDrop = false, children } = props;\n\t\n\tif (loading && !backDrop) {\n\t\treturn <CircularProgress color={color} />\n\t}\n\t\n\tif (loading && backDrop) {\n\t\treturn (\n\t\t\t<Backdrop open={true} style={{zIndex: 200}}>\n\t\t\t\t<CircularProgress color={color} />\n\t\t\t</Backdrop>\n\t\t);\n\t}\n\t\n\treturn children;\n}\n\nexport default LoadingComponent;","//Se crea una acción la cual será capturada\n//por el reducer correspondiente.\nconst updateDataUser = (valor) => {\n  return {\n    type: \"UPDATE_DATA_USER\",\n    payload: valor\n  }\n}\n\nexport default updateDataUser;\n","//Se crea una acciรณn la cual serรก capturada\n//por el reducer correspondiente.\nconst updateAuth = (payload) => {\n  return {\n    type: \"AUTH_UPDATE\",\n    payload: payload\n  }\n}\n\nexport default updateAuth;\n","import React, { useState, useEffect } from 'react';\n\nimport { useHistory, useLocation } from 'react-router-dom';\n\nimport { Loader } from '../Routers';\nimport useFetch from './../../hooks/useFetch';\n\nimport { connect } from 'react-redux';\nimport updateDataUser from './../../actions/updateDataUser';\nimport updateAuth from './../../actions/updateAuth';\nimport logoutApp from './../../actions/logoutApp';\n\nfunction ReloginComponent(props) {\n\tconst { children, auth, theme, updateDataUser, updateAuth, access_key, logoutApp } = props;\n\tconst [waitAuth, setWaitAuth] = useState(true);\n\tconst { fetchData } = useFetch();\n\t\n\tlet history = useHistory();\n  let location = useLocation();\n\t\n\t//Seleccionar from\n\tlet { from } = location.state || { from: { pathname: \"/\" } };\n\t\n\tuseEffect(()=>{\n\t\tlet cancel = false;\n\t\t\n\t\tconst consult = async (key) =>{\n\t\t\tconst prepareDate = {\n\t\t\t\turl: 'v1/relogin',\n\t\t\t\tdata: {\n\t\t\t\t\theaders: {\n\t\t\t\t\t\tAuthorization: `Bearer ${key}`\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tsuccessText: 'Login exitoso',\n\t\t\t\ttype: 'get'\n\t\t\t}\n\t\t\t\n\t\t\tconst response = await fetchData(prepareDate);\n\t\t\t\n\t\t\tsetWaitAuth(false);\n\t\t\t\n\t\t\tif (response) {\n\t\t\t\tresponse.access_key = key;\n\t\t\t\tupdateDataUser(response);\n\t\t\t\tupdateAuth(true);\n\t\t\t}else {\n\t\t\t\t// Eliminame los Stogare ya que la key guardada en ellos no\n\t\t\t\t// es vรกlida dentro del servidor.\n\t\t\t\tupdateAuth(false);\n\t\t\t\tlogoutApp();\n\t\t\t}\n\t\t}\n\t\t\n\t\t//AccessKey\n\t\tconst keyL = JSON.parse(localStorage.getItem('access_key'));\n\t\tconst keyS = JSON.parse(sessionStorage.getItem('access_key'));\n\t\t\n\t\tif (!auth && waitAuth && typeof keyS === 'string' && keyS.length > 30) {\n\t\t\tconsult(keyS);\n\t\t}else if (!auth && waitAuth && typeof keyL === 'string' && keyL.length > 30) {\n\t\t\tconsult(keyL);\n\t\t}else {\n\t\t\tif (!cancel){\n\t\t\t\tsetWaitAuth(false);\n\t\t\t}\n\t\t}\n\t\t\n\t\treturn ()=>{\n\t\t\tcancel = true;\n\t\t}\n\t}, [auth, access_key, fetchData, updateDataUser, updateAuth, waitAuth, logoutApp]);\n\t\n\tif (waitAuth) {\n\t\treturn <Loader theme={theme} />;\n\t}\n\t\n\tif (auth && from.pathname === '/') {\n\t\thistory.push('/panel');\n\t} else if (auth && from.pathname !== '/') {\n\t\thistory.replace(from);\n\t}\n\t\n\treturn children;\n}\n\n//REDUX\nconst mapStateToProps = state => ({\n\tauth: state.userData.auth,\n\ttheme: state.settings.tema,\n\taccess_key: state.userData.access_key\n});\n\nconst mapDispatchToProps = {\n\tupdateDataUser,\n\tupdateAuth,\n\tlogoutApp,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(ReloginComponent);","const updateForms = (form, loading, inputs = null) => {\n  return {\n    type: `UPDATE_FORM`,\n    payload: {form, loading, inputs}\n  }\n}\n\nexport default updateForms;","import React from 'react';\n\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport { useHistory } from 'react-router-dom';\n\nimport { RenderInput } from './../../components/RendersGlobals';\nimport LoadingComponent from './../../components/LoadingComponent';\nimport logo from './../../imgs/favicon_no_fondo_white.png';\nimport ReloginComponent from './ReloginComponent';\n\nimport useFetch from './../../hooks/useFetch';\n\nimport { useForm } from 'react-hook-form';\n\nimport { connect } from 'react-redux';\nimport updateForms from './../../actions/updateForms';\nimport updateDataUser from './../../actions/updateDataUser';\nimport updateAuth from './../../actions/updateAuth';\n\nimport {\n\tContainer,\n\tGrid,\n\tTypography,\n\tPaper,\n\tButton,\n\tBox,\n\tFormControlLabel,\n\tCheckbox,\n\tSlide,\n} from '@material-ui/core';\n\nconst useStyles = makeStyles((theme) => ({\n\troot: {\n\t\tflexGrow: 1,\n\t},\n\tmargin: {\n\t\tmarginTop: theme.spacing(4),\n\t\tmarginBottom: theme.spacing(4),\n\t},\n\tlogin__welcome: {\n\t\tbackground: theme.palette.primary.main,\n\t\twidth: '100%',\n\t\tpadding: theme.spacing(2),\n\n\t\t[theme.breakpoints.down('sm')]: {\n\t\t\tborderRadius: '5px 5px 0px 0px',\n\t\t},\n\n\t\t[theme.breakpoints.up('md')]: {\n\t\t\theight: 500,\n\t\t\tborderRadius: 5,\n\t\t},\n\t},\n\tlogin__box: {\n\t\twidth: '100%',\n\t\theight: 470,\n\t\t\n\t\t[theme.breakpoints.down('xs')]: {\n\t\t\tpadding: `${theme.spacing(2)}px ${theme.spacing(4)}px`,\n\t\t},\n\n\t\t[theme.breakpoints.up('sm')]: {\n\t\t\tpadding: `${theme.spacing(2)}px ${theme.spacing(8)}px`,\n\t\t}\n\t},\n\tbutton: {\n\t\twidth: 170,\n\t\theight: 45,\n\t},\n\tlogin__recovery: {\n\t\tcolor: theme.palette.primary.main,\n\t\tcursor: 'pointer',\n\t},\n}));\n\nfunction PanelWelcome() {\n\tconst classes = useStyles();\n\n\treturn (\n\t\t<Slide in={true} direction=\"right\" mountOnEnter unmountOnExit>\n\t\t\t<Box className={classes.login__welcome + ' ' + classes.padding + ' MuiPaper-elevation1'}>\n\t\t\t\t<Grid container direction=\"column\" spacing={2} style={{ height: '100%' }}>\n\t\t\t\t\t<Grid container item>\n\t\t\t\t\t\t<img src={logo} alt=\"Logo del instituo\" className=\"login__logo\" />\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\tjustify=\"center\"\n\t\t\t\t\t\talignItems=\"center\"\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\titem\n\t\t\t\t\t\tclassName={classes.root}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Typography className=\"login__welcome login__welcome--white\">Bienvenido</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid item>\n\t\t\t\t\t\t\t<Typography className=\"login__text\">Al iniciar sesión usted podrá:</Typography>\n\t\t\t\t\t\t\t<Typography className=\"login__text login__text--list\">\n\t\t\t\t\t\t\t\t- Ver noticias privadas\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t- Registrar pagos\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t- Recibir y enviar tareas\n\t\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\t\t- Ver boletas\n\t\t\t\t\t\t\t\t<br />- y más..\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t\t<Grid container justify=\"center\" item>\n\t\t\t\t\t\t<Box textAlign=\"center\" className=\"login__footer\">\n\t\t\t\t\t\t\t&copy; 2020 - Desarrollado por Recker\n\t\t\t\t\t\t\t<br />\n\t\t\t\t\t\t\tPowered by Gedure\n\t\t\t\t\t\t</Box>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Grid>\n\t\t\t</Box>\n\t\t</Slide>\n\t);\n}\n\nfunction Form({ state }) {\n\tconst { loading, inputs, updateForms, updateDataUser, updateAuth } = state;\n\tconst { fetchData } = useFetch();\n\tconst { register, handleSubmit, errors } = useForm();\n\tconst { user, password } = inputs;\n\n\tlet history = useHistory();\n\n\tconst classes = useStyles();\n\n\tconst handleRecovery = () => {\n\t\tif (!loading) {\n\t\t\thistory.push('/recovery');\n\t\t}\n\t};\n\n\tconst onSubmit = async (data) => {\n\t\tupdateForms('login', true, data);\n\n\t\tconst prepareDate = {\n\t\t\turl: 'v1/login',\n\t\t\tdata: data,\n\t\t\tsuccessText: 'Login exitoso'\n\t\t}\n\t\t\n\t\tconst response = await fetchData(prepareDate);\n\n\t\tif (response) {\n\t\t\tupdateDataUser(response);\n\n\t\t\t// Save access_key\n\t\t\tif (data.checkbox) {\n\t\t\t\tlocalStorage.setItem('access_key', JSON.stringify(response.access_key));\n\t\t\t\tsessionStorage.setItem('access_key', JSON.stringify(response.access_key));\n\t\t\t} else {\n\t\t\t\tsessionStorage.setItem('access_key', JSON.stringify(response.access_key));\n\t\t\t}\n\n\t\t\tupdateAuth(true);\n\t\t}\n\n\t\tupdateForms('login', false);\n\t};\n\n\treturn (\n\t\t<Slide in={true} direction=\"left\" mountOnEnter unmountOnExit>\n\t\t\t<form onSubmit={handleSubmit(onSubmit)}>\n\t\t\t\t<Paper className={classes.login__box}>\n\t\t\t\t\t<Grid\n\t\t\t\t\t\tcontainer\n\t\t\t\t\t\tdirection=\"column\"\n\t\t\t\t\t\tjustify=\"space-between\"\n\t\t\t\t\t\tspacing={2}\n\t\t\t\t\t\tstyle={{ height: '100%' }}\n\t\t\t\t\t>\n\t\t\t\t\t\t<Grid container item justify=\"center\">\n\t\t\t\t\t\t\t<Typography className=\"login__titleForm login__welcome--italic\">\n\t\t\t\t\t\t\t\tRellene los campos\n\t\t\t\t\t\t\t</Typography>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container item>\n\t\t\t\t\t\t\t<RenderInput\n\t\t\t\t\t\t\t\tname=\"user\"\n\t\t\t\t\t\t\t\tlabel=\"Usuario\"\n\t\t\t\t\t\t\t\tdefaultValue={user}\n\t\t\t\t\t\t\t\terrors={errors.user}\n\t\t\t\t\t\t\t\tregisterInput={register({\n\t\t\t\t\t\t\t\t\trequired: { value: true, message: 'Campo requerido.' },\n\t\t\t\t\t\t\t\t\tminLength: { value: 3, message: 'Campo no válido.' },\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tdisabledOnLoading={loading}\n\t\t\t\t\t\t\t\tfocus\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container item>\n\t\t\t\t\t\t\t<RenderInput\n\t\t\t\t\t\t\t\tpasswordMode\n\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\tlabel=\"Contraseña\"\n\t\t\t\t\t\t\t\tdefaultValue={password}\n\t\t\t\t\t\t\t\terrors={errors.password}\n\t\t\t\t\t\t\t\tregisterInput={register({\n\t\t\t\t\t\t\t\t\trequired: { value: true, message: 'Campo requerido.' },\n\t\t\t\t\t\t\t\t\tminLength: { value: 4, message: 'Campo no válido.' },\n\t\t\t\t\t\t\t\t})}\n\t\t\t\t\t\t\t\tdisabledOnLoading={loading}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container item>\n\t\t\t\t\t\t\t<FormControlLabel\n\t\t\t\t\t\t\t\tcontrol={<Checkbox color=\"primary\" name=\"checkbox\" inputRef={register} />}\n\t\t\t\t\t\t\t\tlabel=\"Mantener abierto\"\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container justify=\"center\" item>\n\t\t\t\t\t\t\t<LoadingComponent loading={loading}>\n\t\t\t\t\t\t\t\t<Button\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\n\t\t\t\t\t\t\t\t\tclassName={classes.button}\n\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\tEntrar\n\t\t\t\t\t\t\t\t</Button>\n\t\t\t\t\t\t\t</LoadingComponent>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container justify=\"center\" item>\n\t\t\t\t\t\t\t<Box component=\"span\" className={classes.login__recovery} onClick={handleRecovery}>\n\t\t\t\t\t\t\t\tRecuperar contraseña\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Paper>\n\t\t\t</form>\n\t\t</Slide>\n\t);\n}\n\nfunction Login(props) {\n\tconst { updateForms, updateDataUser, updateAuth, loading, inputs } = props;\n\n\tlet history = useHistory();\n\n\tconst classes = useStyles();\n\n\tconst handleReturn = () => {\n\t\tif (!loading) {\n\t\t\thistory.push('/');\n\t\t}\n\t};\n\n\treturn (\n\t\t<ReloginComponent>\n\t\t\t<main className={classes.root} ref={()=>{\n\t\t\t\t\tdocument.title = 'La Candelaria - Login';\n\t\t\t\t}}>\n\t\t\t\t<Container maxWidth=\"md\" style={{ height: '100%', display: 'flex', alignItems: 'center' }}>\n\t\t\t\t\t<Grid container spacing={2}>\n\t\t\t\t\t\t<Grid container alignItems=\"center\" item>\n\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={4}>\n\t\t\t\t\t\t\t\t<PanelWelcome />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t\t<Grid item xs={12} sm={12} md={8}>\n\t\t\t\t\t\t\t\t<Form state={{ loading, inputs, updateForms, updateDataUser, updateAuth }} />\n\t\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t\t<Grid container justify=\"center\" item xs={12}>\n\t\t\t\t\t\t\t<Box component=\"span\" className=\"login__return\" onClick={handleReturn}>\n\t\t\t\t\t\t\t\tVolver al inicio\n\t\t\t\t\t\t\t</Box>\n\t\t\t\t\t\t</Grid>\n\t\t\t\t\t</Grid>\n\t\t\t\t</Container>\n\t\t\t</main>\n\t\t</ReloginComponent>\n\t);\n}\n\n//REDUX\nconst mapStateToProps = (state) => ({\n\tloading: state.forms.login.loading,\n\tinputs: state.forms.login.inputs,\n});\n\nconst mapDispatchToProps = {\n\tupdateForms,\n\tupdateDataUser,\n\tupdateAuth,\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(Login);"],"sourceRoot":""}