(this["webpackJsonpla-candelaria-web"]=this["webpackJsonpla-candelaria-web"]||[]).push([[16],{231:function(e,a,t){"use strict";a.a=function(e,a){return{type:"UPDATE_VALUE_".concat(a),payload:e}}},235:function(e,a,t){"use strict";a.a=function(e,a){return{type:"UPDATE_LOADING_".concat(a),payload:e}}},236:function(e,a,t){"use strict";var n=t(0),o=t.n(n),r=t(420),l=t(185),c=t(369);function i(e){var a=e.color,t=e.progress,n=e.label;return o.a.createElement(o.a.Fragment,null,o.a.createElement(r.a,{color:a,variant:"static",value:t}),o.a.createElement("span",{style:{position:"relative",top:"-30px"}},t,"%"),n&&o.a.createElement("span",{style:{position:"relative",top:"-10px"}},n))}function s(e){var a=e.loading,t=e.progress,n=e.progressBar,c=e.colorsito,s=e.progressLabel;return a&&n&&100!==t?o.a.createElement(l.a,{open:!0,style:{zIndex:200}},o.a.createElement(i,{color:c,progress:t,label:s})):o.a.createElement(l.a,{open:!0,style:{zIndex:200}},o.a.createElement(r.a,{color:c}))}a.a=function(e){var a=e.estilo,t=e.colorsito,n=e.loading,l=e.text,d=e.onClick,u=void 0===d?function(){}:d,m=e.progressBar,p=void 0!==m&&m,b=e.progress,v=void 0===b?0:b,f=e.progressLabel,g=void 0!==f&&f,y=e.backDrop;return n&&!(void 0!==y&&y)?p&&100!==v?o.a.createElement(i,{color:t,progress:v,label:g}):o.a.createElement(r.a,{color:t}):o.a.createElement(o.a.Fragment,null,o.a.createElement(c.a,{onClick:u,variant:a,type:"submit",color:t},l),n&&o.a.createElement(s,{loading:!0,progress:v,progressBar:p,colorsito:t,progressLabel:g}))}},237:function(e,a,t){"use strict";t.d(a,"c",(function(){return O})),t.d(a,"b",(function(){return x})),t.d(a,"a",(function(){return k}));var n=t(86),o=t(0),r=t.n(o),l=t(378),c=t(461),i=t(210),s=t(424),d=t(565),u=t(380),m=t(427),p=t(579),b=t(428),v=t(430),f=t(209),g=t(238),y=t.n(g),h=t(239),E=t.n(h);function O(e){var a=e.val,t=e.action,n=e.data,o=e.error,d=void 0!==o&&o,u=e.empty,m=void 0===u||u,p=e.classNameSet,b=void 0!==p&&p,v=e.customWidth,f=void 0!==v&&v;return r.a.createElement(l.a,{error:d&&d.status,style:{width:f||"100%"}},r.a.createElement(c.a,{displayEmpty:!0,name:n.name,value:a,onChange:t,className:b||null},n.values.map((function(e,a){return 0===a&&m?r.a.createElement(i.a,{key:a,value:e.value},r.a.createElement("em",null,e.name)):r.a.createElement(i.a,{key:a,value:e.value},e.name)}))),d&&r.a.createElement(s.a,null,d.message))}function x(e){var a=e.val,t=e.accion,n=e.data;return r.a.createElement(l.a,{component:"fieldset"},r.a.createElement(d.a,{color:n.color,component:"legend"},n.title),r.a.createElement(u.a,{"aria-label":n.name,name:n.name,value:a,onChange:t,row:!0},n.values.map((function(e,a){return r.a.createElement(m.a,{key:a,value:e.value,control:r.a.createElement(p.a,{color:n.color}),label:e.name,labelPlacement:"end"})}))))}function k(e){var a=e.data,t=e.accion,l=e.error,c=e.variant,i=void 0===c?"outlined":c,s=e.textarea,d=void 0!==s&&s,u=e.maxRows,m=void 0===u?6:u,p=e.maxWidth,g=void 0!==p&&p,h=e.size,O=void 0===h?"medium":h,x=e.visibleToggle,k=void 0!==x&&x,C=e.focus,j=void 0!==C&&C,S=a.val,w=a.name,N=a.label,T=l.status,I=l.message,L=Object(o.useState)(!1),z=Object(n.a)(L,2),P=z[0],$=z[1],R={rows:4,rowsMax:m};return r.a.createElement(b.a,Object.assign({type:k?P?"text":"password":"text",name:w,value:S,label:N,size:O,autoFocus:j,style:{width:"100%",maxWidth:g||"none"},variant:i,onChange:t,multiline:d,InputProps:{endAdornment:k?r.a.createElement(v.a,{position:"end"},r.a.createElement(f.a,{onClick:function(){$(!P)},size:O},P?r.a.createElement(y.a,null):r.a.createElement(E.a,null))):null}},R,{error:T,helperText:T&&I}))}},238:function(e,a,t){"use strict";var n=t(18);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(t(0)),r=(0,n(t(19)).default)(o.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");a.default=r},239:function(e,a,t){"use strict";var n=t(18);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var o=n(t(0)),r=(0,n(t(19)).default)(o.default.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");a.default=r},394:function(e,a,t){"use strict";var n=t(1),o=t(3),r=t(0),l=(t(5),t(4)),c=t(84),i=Object(c.a)(r.createElement("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel"),s=t(6),d=t(24),u=t(8),m=t(16),p=t(135);function b(e){return"Backspace"===e.key||"Delete"===e.key}var v=r.forwardRef((function(e,a){var t=e.avatar,c=e.classes,s=e.className,d=e.clickable,v=e.color,f=void 0===v?"default":v,g=e.component,y=e.deleteIcon,h=e.disabled,E=void 0!==h&&h,O=e.icon,x=e.label,k=e.onClick,C=e.onDelete,j=e.onKeyDown,S=e.onKeyUp,w=e.size,N=void 0===w?"medium":w,T=e.variant,I=void 0===T?"default":T,L=Object(o.a)(e,["avatar","classes","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant"]),z=r.useRef(null),P=Object(u.a)(z,a),$=function(e){e.stopPropagation(),C&&C(e)},R=!(!1===d||!k)||d,D="small"===N,_=g||(R?p.a:"div"),M=_===p.a?{component:"div"}:{},A=null;if(C){var B=Object(l.a)("default"!==f&&("default"===I?c["deleteIconColor".concat(Object(m.a)(f))]:c["deleteIconOutlinedColor".concat(Object(m.a)(f))]),D&&c.deleteIconSmall);A=y&&r.isValidElement(y)?r.cloneElement(y,{className:Object(l.a)(y.props.className,c.deleteIcon,B),onClick:$}):r.createElement(i,{className:Object(l.a)(c.deleteIcon,B),onClick:$})}var V=null;t&&r.isValidElement(t)&&(V=r.cloneElement(t,{className:Object(l.a)(c.avatar,t.props.className,D&&c.avatarSmall,"default"!==f&&c["avatarColor".concat(Object(m.a)(f))])}));var W=null;return O&&r.isValidElement(O)&&(W=r.cloneElement(O,{className:Object(l.a)(c.icon,O.props.className,D&&c.iconSmall,"default"!==f&&c["iconColor".concat(Object(m.a)(f))])})),r.createElement(_,Object(n.a)({role:R||C?"button":void 0,className:Object(l.a)(c.root,s,"default"!==f&&[c["color".concat(Object(m.a)(f))],R&&c["clickableColor".concat(Object(m.a)(f))],C&&c["deletableColor".concat(Object(m.a)(f))]],"default"!==I&&[c.outlined,{primary:c.outlinedPrimary,secondary:c.outlinedSecondary}[f]],E&&c.disabled,D&&c.sizeSmall,R&&c.clickable,C&&c.deletable),"aria-disabled":!!E||void 0,tabIndex:R||C?0:void 0,onClick:k,onKeyDown:function(e){e.currentTarget===e.target&&b(e)&&e.preventDefault(),j&&j(e)},onKeyUp:function(e){e.currentTarget===e.target&&(C&&b(e)?C(e):"Escape"===e.key&&z.current&&z.current.blur()),S&&S(e)},ref:P},M,L),V||W,r.createElement("span",{className:Object(l.a)(c.label,D&&c.labelSmall)},x),A)}));a.a=Object(s.a)((function(e){var a="light"===e.palette.type?e.palette.grey[300]:e.palette.grey[700],t=Object(d.d)(e.palette.text.primary,.26);return{root:{fontFamily:e.typography.fontFamily,fontSize:e.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:e.palette.getContrastText(a),backgroundColor:a,borderRadius:16,whiteSpace:"nowrap",transition:e.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:"none",padding:0,verticalAlign:"middle",boxSizing:"border-box","&$disabled":{opacity:.5,pointerEvents:"none"},"& $avatar":{marginLeft:5,marginRight:-6,width:24,height:24,color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],fontSize:e.typography.pxToRem(12)},"& $avatarColorPrimary":{color:e.palette.primary.contrastText,backgroundColor:e.palette.primary.dark},"& $avatarColorSecondary":{color:e.palette.secondary.contrastText,backgroundColor:e.palette.secondary.dark},"& $avatarSmall":{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:e.typography.pxToRem(10)}},sizeSmall:{height:24},colorPrimary:{backgroundColor:e.palette.primary.main,color:e.palette.primary.contrastText},colorSecondary:{backgroundColor:e.palette.secondary.main,color:e.palette.secondary.contrastText},disabled:{},clickable:{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover, &:focus":{backgroundColor:Object(d.c)(a,.08)},"&:active":{boxShadow:e.shadows[1]}},clickableColorPrimary:{"&:hover, &:focus":{backgroundColor:Object(d.c)(e.palette.primary.main,.08)}},clickableColorSecondary:{"&:hover, &:focus":{backgroundColor:Object(d.c)(e.palette.secondary.main,.08)}},deletable:{"&:focus":{backgroundColor:Object(d.c)(a,.08)}},deletableColorPrimary:{"&:focus":{backgroundColor:Object(d.c)(e.palette.primary.main,.2)}},deletableColorSecondary:{"&:focus":{backgroundColor:Object(d.c)(e.palette.secondary.main,.2)}},outlined:{backgroundColor:"transparent",border:"1px solid ".concat("light"===e.palette.type?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)"),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(d.d)(e.palette.text.primary,e.palette.action.hoverOpacity)},"& $avatar":{marginLeft:4},"& $avatarSmall":{marginLeft:2},"& $icon":{marginLeft:4},"& $iconSmall":{marginLeft:2},"& $deleteIcon":{marginRight:5},"& $deleteIconSmall":{marginRight:3}},outlinedPrimary:{color:e.palette.primary.main,border:"1px solid ".concat(e.palette.primary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(d.d)(e.palette.primary.main,e.palette.action.hoverOpacity)}},outlinedSecondary:{color:e.palette.secondary.main,border:"1px solid ".concat(e.palette.secondary.main),"$clickable&:hover, $clickable&:focus, $deletable&:focus":{backgroundColor:Object(d.d)(e.palette.secondary.main,e.palette.action.hoverOpacity)}},avatar:{},avatarSmall:{},avatarColorPrimary:{},avatarColorSecondary:{},icon:{color:"light"===e.palette.type?e.palette.grey[700]:e.palette.grey[300],marginLeft:5,marginRight:-6},iconSmall:{width:18,height:18,marginLeft:4,marginRight:-4},iconColorPrimary:{color:"inherit"},iconColorSecondary:{color:"inherit"},label:{overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},labelSmall:{paddingLeft:8,paddingRight:8},deleteIcon:{WebkitTapHighlightColor:"transparent",color:t,height:22,width:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:Object(d.d)(t,.4)}},deleteIconSmall:{height:16,width:16,marginRight:4,marginLeft:-4},deleteIconColorPrimary:{color:Object(d.d)(e.palette.primary.contrastText,.7),"&:hover, &:active":{color:e.palette.primary.contrastText}},deleteIconColorSecondary:{color:Object(d.d)(e.palette.secondary.contrastText,.7),"&:hover, &:active":{color:e.palette.secondary.contrastText}},deleteIconOutlinedColorPrimary:{color:Object(d.d)(e.palette.primary.main,.7),"&:hover, &:active":{color:e.palette.primary.main}},deleteIconOutlinedColorSecondary:{color:Object(d.d)(e.palette.secondary.main,.7),"&:hover, &:active":{color:e.palette.secondary.main}}}}),{name:"MuiChip"})(v)},435:function(e,a,t){"use strict";var n=t(1),o=t(3),r=t(0),l=(t(5),t(4)),c=t(6),i=t(16),s=r.forwardRef((function(e,a){var t=e.classes,c=e.className,s=e.color,d=void 0===s?"default":s,u=e.component,m=void 0===u?"li":u,p=e.disableGutters,b=void 0!==p&&p,v=e.disableSticky,f=void 0!==v&&v,g=e.inset,y=void 0!==g&&g,h=Object(o.a)(e,["classes","className","color","component","disableGutters","disableSticky","inset"]);return r.createElement(m,Object(n.a)({className:Object(l.a)(t.root,c,"default"!==d&&t["color".concat(Object(i.a)(d))],y&&t.inset,!f&&t.sticky,!b&&t.gutters),ref:a},h))}));a.a=Object(c.a)((function(e){return{root:{boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:e.palette.text.secondary,fontFamily:e.typography.fontFamily,fontWeight:e.typography.fontWeightMedium,fontSize:e.typography.pxToRem(14)},colorPrimary:{color:e.palette.primary.main},colorInherit:{color:"inherit"},gutters:{paddingLeft:16,paddingRight:16},inset:{paddingLeft:72},sticky:{position:"sticky",top:0,zIndex:1,backgroundColor:"inherit"}}}),{name:"MuiListSubheader"})(s)},575:function(e,a,t){"use strict";t.r(a);var n=t(86),o=t(233),r=t.n(o),l=t(234),c=t(0),i=t.n(c),s=t(566),d=t(78),u=t(428),m=t(430),p=t(420),b=t(317),v=t.n(b),f=t(561),g=t(237),y=t(236),h=t(12),E=t(231),O=t(235),x=t(51);function k(e){var a=e.action,t=e.value;return i.a.createElement("div",{className:"Box"},i.a.createElement("span",{className:"Box__Title"},"Eliminar publicaci\xf3n"),i.a.createElement("div",{className:"Box__Content"},i.a.createElement(g.c,{action:a,val:t,data:{name:"option",values:[{value:"noticia",name:"Noticia"},{value:"anuncio",name:"Anuncio"}]},classNameSet:"select",customWidth:"auto",empty:!1})))}function C(e){var a=e.option,t=e.enqueueSnackbar,o=e.handleChange,s=e.value,d=window.axios,b=Object(c.useState)(!1),g=Object(n.a)(b,2),y=g[0],h=g[1],E=Object(c.useState)([]),O=Object(n.a)(E,2),x=O[0],k=O[1],C=y&&0===x.length,j="noticia"===a?"noticias":"anuncios",S="noticia"===a?"Noticia":"Anuncio";Object(c.useEffect)((function(){var e,n=d.CancelToken;return C&&function(){var o=Object(l.a)(r.a.mark((function o(){var l,c,i,s;return r.a.wrap((function(o){for(;;)switch(o.prev=o.next){case 0:if(o.prev=0,"noticia"!==a){o.next=7;break}return o.next=4,d.get("api/news/search",{cancelToken:new n((function(a){e=a}))});case 4:l=o.sent,o.next=10;break;case 7:return o.next=9,d.get("api/anuncios/search",{cancelToken:new n((function(a){e=a}))});case 9:l=o.sent;case 10:0===l.data.length&&t("No has publicado nada a\xfan",{variant:"info"}),k(l.data),o.next=17;break;case 14:o.prev=14,o.t0=o.catch(0),d.isCancel(o.t0)||(o.t0.response?(c=o.t0.response,i=c.status,s=c.data,403===i&&t(s.description,{variant:"error"}),t(401===i?"No est\xe1s autorizado":500===i?"No se ha podido conectar con la base de datos":"Error interno en el servidor",{variant:"error"})):t("Error interno en el servidor",{variant:"error"}));case 17:case"end":return o.stop()}}),o,null,[[0,14]])})));return function(){return o.apply(this,arguments)}}()(),function(){e&&e()}}),[C,t,a,d]),Object(c.useEffect)((function(){return function(){k([]);o({target:{name:"id",value:[]}})}}),[a,o]),Object(c.useEffect)((function(){0===s.length&&k([])}),[s]);return i.a.createElement("div",{className:"autoComplete"},i.a.createElement(f.a,{loading:C,value:s,multiple:!0,loadingText:"Cargando...",noOptionsText:"Sin resultados",options:x,onChange:function(e,a){!function(e){o({target:{name:"id",value:e}})}(a)},getOptionLabel:function(e){return"".concat(S," #").concat(e.id)},renderOption:function(e){return"".concat(S," #").concat(e.id)},open:y,onOpen:function(){h(!0)},onClose:function(){h(!1)},renderInput:function(e){return i.a.createElement(u.a,Object.assign({},e,{variant:"outlined",label:"Seleccionar ".concat(j),startAdornment:i.a.createElement(m.a,{position:"start"},i.a.createElement(v.a,null)),endAdornment:i.a.createElement(m.a,{position:"end"},C?i.a.createElement(p.a,{color:"inherit",size:30}):i.a.createElement("div",null))}))}}))}var j={updateLoading:O.a,updateValue:E.a};a.default=Object(h.b)((function(e){return{data:e.panelSettings.delPostingSection}}),j)((function(e){var a=e.data,t=e.updateValue,n=e.updateLoading,o=window.axios,c=a.option,u=a.id,m=a.loading,p=Object(x.b)().enqueueSnackbar,b=function(){var e=Object(l.a)(r.a.mark((function e(){var a,l,i,s,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,"noticia"!==c){e.next=7;break}return e.next=4,o.delete("api/news/".concat(JSON.stringify(u),"?jsonSend=true"));case 4:a=e.sent,e.next=10;break;case 7:return e.next=9,o.delete("api/anuncios/".concat(JSON.stringify(u),"?jsonSend=true"));case 9:a=e.sent;case 10:l=a.data.description,p(l,{variant:"success"}),t({target:{name:"id",value:[]}},"DEL_POSTING"),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),e.t0.response?(i=e.t0.response,s=i.status,d=i.data,400===s?p(d.description,{variant:"warning"}):p(403===s||422===s?d.description:500===s?"No se ha podido conectar con la base de datos":"Error interno en el servidor",{variant:"error"})):p("Error interno en el sistema",{variant:"error"});case 19:n(!1,"DEL_POSTING");case 20:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),v=function(e){t(e,"DEL_POSTING")};return i.a.createElement(s.a,{container:!0,spacing:2,justify:"center"},i.a.createElement(s.a,{item:!0,xs:12,sm:5,md:3},i.a.createElement(d.a,null,i.a.createElement(k,{action:v,value:c}))),i.a.createElement(s.a,{item:!0,xs:12,sm:10},i.a.createElement(d.a,{className:"Box"},i.a.createElement("div",{className:"Box__Content"},i.a.createElement("form",{autoComplete:"off",onSubmit:function(e){e.preventDefault();var a=!1;if(u.length<=0&&(p("Debe seleccionar alg\xfan post",{variant:"error"}),a=!0),a)return null;n(!0,"DEL_POSTING"),b()},style:{marginTop:"0"}},i.a.createElement(s.a,{container:!0,spacing:2,justify:"center"},i.a.createElement(s.a,{item:!0,xs:12},i.a.createElement(C,{option:c,enqueueSnackbar:p,handleChange:v,value:u})),i.a.createElement(s.a,{item:!0,xs:12,style:{textAlign:"center"}},i.a.createElement(y.a,{estilo:"outlined",colorsito:"inherit",text:"Eliminar",loading:m}))))))))}))}}]);
//# sourceMappingURL=16.b2a0fdc0.chunk.js.map