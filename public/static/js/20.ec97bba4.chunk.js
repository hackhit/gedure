(this["webpackJsonpla-candelaria-web"]=this["webpackJsonpla-candelaria-web"]||[]).push([[20],{225:function(e,t,a){"use strict";t.a=function(e,t){return{type:"UPDATE_VALUE_".concat(t),payload:e}}},228:function(e,t,a){"use strict";t.a=function(e,t){return{type:"UPDATE_LOADING_".concat(t),payload:e}}},229:function(e,t,a){"use strict";var n=a(0),r=a.n(n),o=a(409),c=a(181),i=a(283);function s(e){var t=e.color,a=e.progress,n=e.label;return r.a.createElement(r.a.Fragment,null,r.a.createElement(o.a,{color:t,variant:"static",value:a}),r.a.createElement("span",{style:{position:"relative",top:"-30px"}},a,"%"),n&&r.a.createElement("span",{style:{position:"relative",top:"-10px"}},n))}function l(e){var t=e.loading,a=e.progress,n=e.progressBar,i=e.colorsito,l=e.progressLabel;return t&&n&&100!==a?r.a.createElement(c.a,{open:!0,style:{zIndex:200}},r.a.createElement(s,{color:i,progress:a,label:l})):r.a.createElement(c.a,{open:!0,style:{zIndex:200}},r.a.createElement(o.a,{color:i}))}t.a=function(e){var t=e.estilo,a=e.colorsito,n=e.loading,c=e.text,u=e.onClick,p=void 0===u?function(){}:u,d=e.progressBar,m=void 0!==d&&d,E=e.progress,f=void 0===E?0:E,g=e.progressLabel,v=void 0!==g&&g,b=e.backDrop;return n&&!(void 0!==b&&b)?m&&100!==f?r.a.createElement(s,{color:a,progress:f,label:v}):r.a.createElement(o.a,{color:a}):r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{onClick:p,variant:t,type:"submit",color:a},c),n&&r.a.createElement(l,{loading:!0,progress:f,progressBar:m,colorsito:a,progressLabel:v}))}},250:function(e,t,a){"use strict";t.a=function(e){if("undefined"!==typeof e){var t=e.substring(1,2),a=e.substring(0,1);return"".concat(a,"G"===t?" grado":" a\xf1o")}}},289:function(e,t,a){"use strict";var n=a(2),r=a(226),o=a.n(r),c=a(227),i=a(84),s=a(0),l=a.n(s),u=a(411),p=a(420),d=a(409),m=a(27),E=a(290),f=a.n(E),g=a(438),v=a(50);t.a=function(e){var t=e.apiUrl,a=e.updateData,r=e.updateDataOption,E=window.axios,b=Object(s.useState)(!1),x=Object(i.a)(b,2),O=x[0],y=x[1],h=Object(s.useState)([]),k=Object(i.a)(h,2),j=k[0],C=k[1],S=Object(s.useState)(void 0),D=Object(i.a)(S,2),w=D[0],A=D[1],B=Object(s.useState)(!1),L=Object(i.a)(B,2),N=L[0],z=L[1],I=Object(v.b)().enqueueSnackbar;Object(s.useEffect)((function(){var e,a=E.CancelToken,n=function(){var n=Object(c.a)(o.a.mark((function n(r){var c,i,s,l;return o.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,E.get("".concat(t).concat(r,"?like=true"),{cancelToken:new a((function(t){e=t}))});case 3:0!==(c=n.sent).data.length?C(c.data):C([]),z(!1),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),E.isCancel(n.t0)||(n.t0.response?(i=n.t0.response,s=i.status,l=i.data,403===s&&I(l.description,{variant:"error"}),I(401===s?"No est\xe1s autorizado":500===s?"No se ha podido conectar con la base de datos":"Error interno en el servidor",{variant:"error"})):I("Error interno en el servidor",{variant:"error"}));case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}();return w?(z(!0),y(!0),n(w)):z(!1),function(){e&&e(),C([])}}),[w,t,E,I]);var _="dark"===Object(m.a)().palette.type?"AutoComplete--Dark":"";return l.a.createElement("div",{className:"AutoComplete ".concat(_)},l.a.createElement(g.a,{loading:N,loadingText:"Cargando...",noOptionsText:"Sin resultados",options:j,onChange:function(e,t){!function(e){A(!1),y(!1),z(!1),C([]),null!==e&&a(e,r)}(t)},onInputChange:function(e,t){z(!0),A(t)},getOptionSelected:function(e,t){return e.privilegio+e.cedula===t},getOptionLabel:function(e){return"".concat(e.cedula)},renderOption:function(e){return l.a.createElement("div",{className:"SearchUsersInput"},l.a.createElement("span",null,e.privilegio+e.cedula),l.a.createElement("span",null,e.name))},open:O,onOpen:function(){C([])},onClose:function(){y(!1),z(!1)},renderInput:function(e){return l.a.createElement(u.a,{style:{padding:"10px",width:"100%"},placeholder:"Buscar usuario...",inputProps:Object(n.a)(Object(n.a)({},e.inputProps),{},{type:"search","aria-label":"buscar usuario"}),startAdornment:l.a.createElement(p.a,{position:"start"},l.a.createElement(f.a,null)),endAdornment:l.a.createElement(p.a,{position:"end"},N?l.a.createElement(d.a,{color:"inherit",size:30}):l.a.createElement("div",null)),ref:e.InputProps.ref})}}))}},428:function(e,t,a){"use strict";a.r(t);var n=a(226),r=a.n(n),o=a(227),c=a(0),i=a.n(c),s=a(10),l=a(421),u=a(83),p=a(283),d=a(289),m=a(250),E=a(229),f=a(12),g=a(225),v=a(228),b=a(50);function x(e){var t=e.loading,a=e.data,n=e.updateData,r=e.history,o=e.handleClick,c=a.cedula,s=a.name,u=a.privilegio,d=a.curso,f=a.seccion,g=a.locks,v=a.attemps,b={cedula:c,name:s,privilegio:u,option:"update",curso:d,seccion:f},x=Object(m.a)(d);return c?i.a.createElement(l.a,{container:!0,spacing:2,justify:"center"},i.a.createElement(l.a,{item:!0,xs:12,sm:6,style:{fontSize:"20px",textAlign:"center"}},"Privilegio: ",u),i.a.createElement(l.a,{item:!0,xs:12,sm:6,style:{fontSize:"20px",textAlign:"center"}},"C\xe9dula: ",c),i.a.createElement(l.a,{item:!0,xs:12,sm:6,style:{fontSize:"20px",textAlign:"center"}},"Nombre: ",s),"V-"===u&&i.a.createElement(l.a,{item:!0,xs:12,sm:6,style:{fontSize:"20px",textAlign:"center"}},"Curso: ",x," secci\xf3n ",f),i.a.createElement(l.a,{item:!0,xs:12,sm:6,style:{fontSize:"20px",textAlign:"center"}},"Errores: ",v),i.a.createElement(l.a,{item:!0,xs:12,sm:6,style:{fontSize:"20px",textAlign:"center"}},"Bloqueos: ",g),i.a.createElement(l.a,{container:!0,justify:"center",spacing:2},i.a.createElement(l.a,{xs:12,sm:3,style:{textAlign:"center"}},i.a.createElement(p.a,{color:"primary",variant:"outlined",onClick:function(){n(b,"MODIFY_EXTERNO"),r.push("/panel?show=modify")},style:{margin:"10px"}},"Editar")),i.a.createElement(l.a,{xs:12,sm:3,style:{textAlign:"center",padding:"10px"}},i.a.createElement(E.a,{estilo:"outlined",colorsito:"secondary",text:"Desbloquear",loading:t,onClick:o})))):null}var O={updateLoading:v.a,updateValue:g.a};t.default=Object(f.b)((function(e){return{blockData:e.panelSettings.desblockSection}}),O)((function(e){var t=e.blockData,a=e.updateLoading,n=e.updateValue,c=window.axios,p=t.loading,m=Object(s.g)(),E=Object(b.b)().enqueueSnackbar,f=function(){var e=Object(o.a)(r.a.mark((function e(){var o,i,s,l,u,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0,"DESBLOCK"),e.prev=1,o=t.data.cedula,e.next=5,c.delete("api/ban/unlock/".concat(o));case 5:i=e.sent,s=i.data.description,E(s,{variant:"success"}),n({cedula:""},"DESBLOCK"),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),e.t0.response?(l=e.t0.response,u=l.status,p=l.data,400===u?E(p.description,{variant:"warning"}):E(403===u||422===u?p.description:500===u?"No se ha podido conectar con la base de datos":"Error interno en el servidor",{variant:"error"})):E("Error interno en el sistema",{variant:"error"});case 14:a(!1,"DESBLOCK");case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(l.a,{container:!0,spacing:2,justify:"center"},i.a.createElement(l.a,{item:!0,xs:12,sm:6},i.a.createElement(u.a,null,i.a.createElement(d.a,{apiUrl:"api/ban/",updateData:n,updateDataOption:"DESBLOCK"}))),i.a.createElement(l.a,{item:!0,xs:12,sm:10},i.a.createElement(u.a,{className:"Box"},i.a.createElement("span",{className:"Box__Title"},"Informaci\xf3n del usuario"),i.a.createElement("div",{className:"Box__Content"},i.a.createElement(x,{data:t.data,updateData:n,loading:p,history:m,handleClick:f})))))}))}}]);
//# sourceMappingURL=20.ec97bba4.chunk.js.map