(this["webpackJsonpla-candelaria-web"]=this["webpackJsonpla-candelaria-web"]||[]).push([[19],{225:function(e,a,t){"use strict";a.a=function(e,a){return{type:"UPDATE_VALUE_".concat(a),payload:e}}},228:function(e,a,t){"use strict";a.a=function(e,a){return{type:"UPDATE_LOADING_".concat(a),payload:e}}},230:function(e,a,t){"use strict";t.d(a,"c",(function(){return y})),t.d(a,"b",(function(){return w})),t.d(a,"a",(function(){return T}));var n=t(84),l=t(0),r=t.n(l),c=t(365),i=t(440),o=t(218),u=t(414),s=t(415),m=t(368),d=t(417),E=t(437),v=t(418),p=t(420),f=t(214),g=t(231),b=t.n(g),O=t(232),h=t.n(O);function y(e){var a=e.val,t=e.action,n=e.data,l=e.error,s=void 0!==l&&l,m=e.empty,d=void 0===m||m,E=e.classNameSet,v=void 0!==E&&E,p=e.customWidth,f=void 0!==p&&p;return r.a.createElement(c.a,{error:s&&s.status,style:{width:f||"100%"}},r.a.createElement(i.a,{displayEmpty:!0,name:n.name,value:a,onChange:t,className:v||null},n.values.map((function(e,a){return 0===a&&d?r.a.createElement(o.a,{key:a,value:e.value},r.a.createElement("em",null,e.name)):r.a.createElement(o.a,{key:a,value:e.value},e.name)}))),s&&r.a.createElement(u.a,null,s.message))}function w(e){var a=e.val,t=e.accion,n=e.data;return r.a.createElement(c.a,{component:"fieldset"},r.a.createElement(s.a,{color:n.color,component:"legend"},n.title),r.a.createElement(m.a,{"aria-label":n.name,name:n.name,value:a,onChange:t,row:!0},n.values.map((function(e,a){return r.a.createElement(d.a,{key:a,value:e.value,control:r.a.createElement(E.a,{color:n.color}),label:e.name,labelPlacement:"end"})}))))}function T(e){var a=e.data,t=e.accion,c=e.error,i=e.variant,o=void 0===i?"outlined":i,u=e.textarea,s=void 0!==u&&u,m=e.maxRows,d=void 0===m?6:m,E=e.maxWidth,g=void 0!==E&&E,O=e.size,y=void 0===O?"medium":O,w=e.visibleToggle,T=void 0!==w&&w,S=e.focus,j=void 0!==S&&S,_=a.val,x=a.name,C=a.label,L=c.status,k=c.message,A=Object(l.useState)(!1),D=Object(n.a)(A,2),N=D[0],z=D[1],M={rows:4,rowsMax:d};return r.a.createElement(v.a,Object.assign({type:T?N?"text":"password":"text",name:x,value:_,label:C,size:y,autoFocus:j,style:{width:"100%",maxWidth:g||"none"},variant:o,onChange:t,multiline:s,InputProps:{endAdornment:T?r.a.createElement(p.a,{position:"end"},r.a.createElement(f.a,{onClick:function(){z(!N)},size:y},N?r.a.createElement(b.a,null):r.a.createElement(h.a,null))):null}},M,{error:L,helperText:L&&k}))}},231:function(e,a,t){"use strict";var n=t(18);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(19)).default)(l.default.createElement("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility");a.default=r},232:function(e,a,t){"use strict";var n=t(18);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(19)).default)(l.default.createElement("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff");a.default=r},404:function(e,a,t){"use strict";var n=t(18);Object.defineProperty(a,"__esModule",{value:!0}),a.default=void 0;var l=n(t(0)),r=(0,n(t(19)).default)(l.default.createElement("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 00-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit");a.default=r},435:function(e,a,t){"use strict";t.r(a);var n=t(226),l=t.n(n),r=t(227),c=t(0),i=t.n(c),o=t(421),u=t(83),s=t(427),m=t(387),d=t(390),E=t(391),v=t(389),p=t(439),f=t(388),g=t(84),b=t(210),O=t(214),h=t(98),y=t.n(h),w=t(131),T=t(380),S=t(384),j=t(382),_=t(383),x=t(409),C=t(381),L=t(283),k=i.a.forwardRef((function(e,a){return i.a.createElement(w.a,Object.assign({direction:"up",ref:a},e))}));var A=function(e){var a=e.open,t=e.action,n=e.cedula,o=Object(c.useState)(!0),u=Object(g.a)(o,2),s=u[0],m=u[1],d=Object(c.useState)({}),E=Object(g.a)(d,2),v=E[0],p=E[1],f=function(){var e=Object(r.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:setTimeout((function(){m(!1),p({status:!0,reason:""})}),2e3);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){a&&(m(!0),f())}),[a]),i.a.createElement(T.a,{open:a,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",TransitionComponent:k},i.a.createElement(S.a,{id:"alert-dialog-title"},"Desbloqueo"),i.a.createElement(j.a,null,i.a.createElement(_.a,{id:"alert-dialog-description"},s?"Desbloqueando, espere un momento....":v.status?"La cuenta con la c\xe9dula ".concat(n," fue desbloqueada!!"):"La c\xe9dula no se ha podido desbloquear por el siguiente motivo: ".concat(v.reason)),s?i.a.createElement(x.a,null):null),i.a.createElement(C.a,null,s?null:i.a.createElement(L.a,{onClick:t,color:"primary"},"Entendido")))};var D=function(e){var a=e.cedula,t=Object(c.useState)(!1),n=Object(g.a)(t,2),l=n[0],r=n[1];function o(e){r(!l)}return i.a.createElement(i.a.Fragment,null,i.a.createElement(b.a,{title:"Desbloquear",placement:"right",enterDelay:1e3,leaveDelay:200,arrow:!0},i.a.createElement(O.a,{variant:"outlined",color:"secondary",onClick:function(){o()}},i.a.createElement(y.a,null))),i.a.createElement(A,{open:l,action:o,cedula:a}))},N=t(10),z=t(404),M=t.n(z),R=t(12),G=t(225);var V={updateValue:G.a},I=Object(R.b)(null,V)((function(e){var a=e.data,t=e.updateValue,n=Object(N.g)();return i.a.createElement(b.a,{title:"Editar",placement:"right",enterDelay:500,leaveDelay:200,arrow:!0},i.a.createElement(O.a,{onClick:function(){switch(a.privilegio){case"V-":var e={cedula:a.cedula,name:a.name,privilegio:a.privilegio,curso:a.curso,seccion:a.seccion};t(e,"MODIFY_EXTERNO");break;case"A-":var l={cedula:a.cedula,name:a.name,privilegio:a.privilegio};t(l,"MODIFY_EXTERNO");break;case"CR-":var r={cedula:a.cedula,name:a.name,privilegio:a.privilegio,curso:"1",seccion:"A"};t(r,"MODIFY_EXTERNO");break;default:t({cedula:"",name:"",privilegio:"V-",curso:"",seccion:""},"MODIFY_EXTERNO")}n.push("/panel/modifyUsers")},color:"primary"},i.a.createElement(M.a,null)))}));var q=Object(R.b)((function(e){return{dataTable:e.panelSettings.logsSection.dataTable}}))((function(e){var a=e.dataTable,t=i.a.createElement(s.a,{component:u.a,style:{maxHeight:"450px",overflow:"auto"}},i.a.createElement(m.a,{"aria-label":"Tabla de Registros",size:"small"},i.a.createElement(d.a,null,i.a.createElement(E.a,null,i.a.createElement(v.a,{align:"center"},"C\xe9dula"),i.a.createElement(p.a,{smDown:!0},i.a.createElement(v.a,{align:"center"},"Usuario")),i.a.createElement(v.a,{align:"center"},"Acci\xf3n"),i.a.createElement(v.a,{align:"center"},"Opciones"))),i.a.createElement(f.a,null,a.map((function(e,a){return i.a.createElement(E.a,{key:a},i.a.createElement(v.a,{align:"center"},e.privilegio+e.cedula),i.a.createElement(p.a,{smDown:!0},i.a.createElement(v.a,{align:"center"},e.name)),i.a.createElement(v.a,{align:"center"},e.action),i.a.createElement(v.a,{align:"center"},Object.values(e.options).map((function(a,t){return i.a.createElement("div",{key:t},i.a.createElement(I,{data:e}),a?i.a.createElement(D,{cedula:e.cedula}):null)}))))})))));return i.a.createElement(i.a.Fragment,null,t)})),P=t(426);function B(){return i.a.createElement(s.a,{component:u.a,style:{maxHeight:"450px",overflow:"auto"}},i.a.createElement(m.a,{"aria-label":"Tabla de Registros",size:"small"},i.a.createElement(d.a,null,i.a.createElement(E.a,null,i.a.createElement(v.a,{align:"center"},"C\xe9dula"),i.a.createElement(v.a,{align:"center"},"Usuario"),i.a.createElement(v.a,{align:"center"},"Acci\xf3n"),i.a.createElement(v.a,{align:"center"},"Opciones")))),i.a.createElement(P.a,{variant:"query",style:{width:"100%"}}))}var F=function(){return i.a.createElement(s.a,{component:u.a,style:{maxHeight:"450px",overflow:"auto"}},i.a.createElement(m.a,{"aria-label":"Tabla de Registros",size:"small"},i.a.createElement(d.a,null,i.a.createElement(E.a,null,i.a.createElement(v.a,{align:"center"},"C\xe9dula"),i.a.createElement(v.a,{align:"center"},"Usuario"),i.a.createElement(v.a,{align:"center"},"Acci\xf3n"),i.a.createElement(v.a,{align:"center"},"Opciones")))),i.a.createElement(P.a,{variant:"determinate",value:100,color:"secondary",style:{width:"100%"}}))},H=t(230);var U={updateValue:G.a},W=Object(R.b)((function(e){return{select:e.panelSettings.logsSection.selectSearch}}),U)((function(e){var a=e.select,t=e.updateValue;return i.a.createElement("div",{className:"Box"},i.a.createElement("span",{className:"Box__Title"},"Buscar Registros"),i.a.createElement("div",{className:"Box__Content"},i.a.createElement(H.c,{action:function(e){var a=e.target.value;t(a,"LOGS_SELECT")},val:a,data:{name:"registros",values:[{value:"all",name:"Todos"},{value:"bans",name:"Baneados"},{value:"session",name:"Inicio de sesi\xf3n"},{value:"changePass",name:"Cambio de contrase\xf1a"}]},classNameSet:"select",customWidth:"auto",empty:!1})))})),X=t(228),Y=t(50);function J(e){var a=e.search,t=e.dataTable,n=null!==t&&t.length>0;return!a&&n?i.a.createElement("div",null,i.a.createElement(q,null)):a?i.a.createElement("div",null,i.a.createElement(B,null)):i.a.createElement("div",null,i.a.createElement(F,null))}var K={updateValue:G.a,updateLoading:X.a};a.default=Object(R.b)((function(e){return{dataLog:e.panelSettings.logsSection}}),K)((function(e){var a=e.dataLog,t=e.updateValue,n=e.updateLoading,s=window.axios,m=Object(Y.b)().enqueueSnackbar,d=a.selectSearch,E=a.dataTable,v=a.searching;return Object(c.useEffect)((function(){var e,a=s.CancelToken,c=function(){var c=Object(r.a)(l.a.mark((function r(c){var i,o,u,d;return l.a.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,s.get("api/logs?get=".concat(c),{cancelToken:new a((function(a){e=a}))});case 3:(i=l.sent).data.length>0?t(i.data,"LOGS_DATATABLE"):m("No hay registros que mostrar",{variant:"info"}),n(!1,"LOGS_SEARCHING"),l.next=11;break;case 8:l.prev=8,l.t0=l.catch(0),s.isCancel(l.t0)?n(!0,"LOGS_SEARCHING"):(l.t0.response?(o=l.t0.response,u=o.status,d=o.data,m(403===u?d.description:500===u?"No se ha podido conectar con la base de datos":"Error interno en el servidor",{variant:"error"})):m("Error interno en el sistema",{variant:"error"}),n(!1,"LOGS_SEARCHING"));case 11:case"end":return l.stop()}}),r,null,[[0,8]])})));return function(e){return c.apply(this,arguments)}}();return n(!0,"LOGS_SEARCHING"),t(null,"LOGS_DATATABLE"),c(d),function(){e&&e()}}),[d,s,m,n,t]),i.a.createElement(o.a,{container:!0,spacing:2,justify:"center"},i.a.createElement(o.a,{item:!0,xs:12,sm:5,md:3},i.a.createElement(u.a,null,i.a.createElement(W,null))),i.a.createElement(o.a,{item:!0,xs:12,sm:10},i.a.createElement(J,{search:v,dataTable:E})))}))}}]);
//# sourceMappingURL=19.50670b7a.chunk.js.map