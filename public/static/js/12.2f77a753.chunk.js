(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[12],{245:function(e,a,t){"use strict";t.r(a);var n=t(47),r=t.n(n),o=t(60),c=t(31),i=t(0),l=t.n(i),s=t(115),m=t(13),u=t(279),d=t(286),p=t(112),g=t.n(p),b=t(48),f=t(111),h=t(101),E=t(23),v=function(e){return{type:"UPDATE_DATA_USER",payload:e}},y=function(e){return{type:"AUTH_UPDATE",payload:e}};var O={updateDataUser:v,updateAuth:y,logoutApp:t(75).a},x=Object(E.b)((function(e){return{auth:e.userData.auth,theme:e.settings.tema,access_key:e.userData.access_key}}),O)((function(e){var a=e.children,t=e.auth,n=e.theme,c=e.updateDataUser,s=e.updateAuth,u=e.access_key,d=e.logoutApp,p=Object(i.useState)(!0),g=Object(b.a)(p,2),E=g[0],v=g[1],y=Object(h.a)().fetchData,O=Object(m.g)(),x=(Object(m.h)().state||{from:{pathname:"/"}}).from;return Object(i.useEffect)((function(){var e=!1,a=function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"v1/relogin",data:{headers:{Authorization:"Bearer ".concat(a)}},successText:"Login exitoso",type:"get"},e.next=3,y(t);case 3:n=e.sent,v(!1),n?(n.access_key=a,c(n),s(!0)):(s(!1),d());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n=JSON.parse(localStorage.getItem("access_key")),i=JSON.parse(sessionStorage.getItem("access_key"));return!t&&E&&"string"===typeof i&&i.length>30?a(i):!t&&E&&"string"===typeof n&&n.length>30?a(n):e||v(!1),function(){e=!0}}),[t,u,y,c,s,E,d]),E?l.a.createElement(f.a,{theme:n}):(t&&"/"===x.pathname?O.push("/panel"):t&&"/"!==x.pathname&&O.replace(x),a)})),k=t(278),_=t(393),j=t(146),w=t(163),I=t(206),S=t(82),C=t(80),N=t(479),z=t(412),A=t(233),L=t(253),D=Object(s.a)((function(e){var a,t;return{root:{flexGrow:1},margin:{marginTop:e.spacing(4),marginBottom:e.spacing(4)},login__welcome:(a={background:e.palette.primary.main,width:"100%",padding:e.spacing(2)},Object(c.a)(a,e.breakpoints.down("sm"),{borderRadius:"5px 5px 0px 0px"}),Object(c.a)(a,e.breakpoints.up("md"),{height:500,borderRadius:5}),a),login__box:(t={width:"100%",height:470},Object(c.a)(t,e.breakpoints.down("xs"),{padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px")}),Object(c.a)(t,e.breakpoints.up("sm"),{padding:"".concat(e.spacing(2),"px ").concat(e.spacing(8),"px")}),t),button:{width:170,height:45},login__recovery:{color:e.palette.primary.main,cursor:"pointer"}}}));function V(){var e=D();return l.a.createElement(j.a,{in:!0,direction:"right",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(w.a,{className:e.login__welcome+" "+e.padding+" MuiPaper-elevation1"},l.a.createElement(I.a,{container:!0,direction:"column",spacing:2,style:{height:"100%"}},l.a.createElement(I.a,{container:!0,item:!0},l.a.createElement("img",{src:g.a,alt:"Logo del instituo",className:"login__logo"})),l.a.createElement(I.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,item:!0,className:e.root},l.a.createElement(I.a,{item:!0},l.a.createElement(S.a,{className:"login__welcome login__welcome--white"},"Bienvenido")),l.a.createElement(I.a,{item:!0},l.a.createElement(S.a,{className:"login__text"},"Al iniciar sesi\xf3n usted podr\xe1:"),l.a.createElement(S.a,{className:"login__text login__text--list"},"- Ver noticias privadas",l.a.createElement("br",null),"- Registrar pagos",l.a.createElement("br",null),"- Recibir y enviar tareas",l.a.createElement("br",null),"- Ver boletas",l.a.createElement("br",null),"- y m\xe1s.."))),l.a.createElement(I.a,{container:!0,justify:"center",item:!0},l.a.createElement(w.a,{textAlign:"center",className:"login__footer"},"\xa9 2020 - Desarrollado por Recker",l.a.createElement("br",null),"Powered by Gedure")))))}function R(e){var a=e.state,t=a.loading,n=a.updateForms,c=a.updateDataUser,s=a.updateAuth,p=Object(h.a)().fetchData,g=Object(k.c)(),b=g.register,f=g.handleSubmit,E=g.errors,v=Object(m.g)(),y=D(),O=Object(i.useCallback)(function(){var e=Object(o.a)(r.a.mark((function e(a){var t,o;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n("login",!0),t={url:"v1/login",data:a,successText:"Login exitoso"},e.next=4,p(t);case 4:(o=e.sent)&&(c(o),a.checkbox?(localStorage.setItem("access_key",JSON.stringify(o.access_key)),sessionStorage.setItem("access_key",JSON.stringify(o.access_key))):sessionStorage.setItem("access_key",JSON.stringify(o.access_key)),s(!0)),n("login",!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),[p,s,c,n]);return l.a.createElement(j.a,{in:!0,direction:"left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("form",{onSubmit:f(O)},l.a.createElement(C.a,{className:y.login__box},l.a.createElement(I.a,{container:!0,direction:"column",justify:"space-between",spacing:2,style:{height:"100%"}},l.a.createElement(I.a,{container:!0,item:!0,justify:"center"},l.a.createElement(S.a,{className:"login__titleForm login__welcome--italic"},"Rellene los campos")),l.a.createElement(I.a,{container:!0,item:!0},l.a.createElement(u.a,{name:"user",label:"C\xe9dula o usuario",defaultValue:"",errors:E.user,registerInput:b({required:{value:!0,message:"Campo requerido."},minLength:{value:3,message:"Campo no v\xe1lido."}}),disabledOnLoading:t,focus:!0})),l.a.createElement(I.a,{container:!0,item:!0},l.a.createElement(u.a,{passwordMode:!0,name:"password",label:"Contrase\xf1a",defaultValue:"",errors:E.password,registerInput:b({required:{value:!0,message:"Campo requerido."},minLength:{value:4,message:"Campo no v\xe1lido."}}),disabledOnLoading:t})),l.a.createElement(I.a,{container:!0,item:!0},l.a.createElement(N.a,{control:l.a.createElement(z.a,{color:"primary",name:"checkbox",inputRef:b}),label:"Mantener abierto"})),l.a.createElement(I.a,{container:!0,justify:"center",item:!0},l.a.createElement(d.a,{loading:t},l.a.createElement(A.a,{color:"primary",variant:"contained",type:"submit",className:y.button},"Entrar"))),l.a.createElement(I.a,{container:!0,justify:"center",item:!0},l.a.createElement(w.a,{component:"span",className:y.login__recovery,onClick:function(){t||v.push("/recovery")}},"Recuperar contrase\xf1a"))))))}var P={updateForms:_.a,updateDataUser:v,updateAuth:y};a.default=Object(E.b)((function(e){return{loading:e.forms.login.loading}}),P)((function(e){var a=e.updateForms,t=e.updateDataUser,n=e.updateAuth,r=e.loading,o=e.inputs,c=Object(m.g)(),i=D();return l.a.createElement(x,null,l.a.createElement("main",{className:"".concat(i.root," ").concat(i.margin),ref:function(){document.title="La Candelaria - Login"}},l.a.createElement(L.a,{maxWidth:"md",style:{height:"100%",display:"flex",alignItems:"center"}},l.a.createElement(I.a,{container:!0,spacing:2},l.a.createElement(I.a,{container:!0,alignItems:"center",item:!0},l.a.createElement(I.a,{item:!0,xs:12,sm:12,md:4},l.a.createElement(V,null)),l.a.createElement(I.a,{item:!0,xs:12,sm:12,md:8},l.a.createElement(R,{state:{loading:r,inputs:o,updateForms:a,updateDataUser:t,updateAuth:n}}))),l.a.createElement(I.a,{container:!0,justify:"center",item:!0,xs:12},l.a.createElement(w.a,{component:"span",className:"login__return",onClick:function(){r||c.push("/")}},"Volver al inicio"))))))}))},279:function(e,a,t){"use strict";t.d(a,"c",(function(){return k})),t.d(a,"b",(function(){return _})),t.d(a,"a",(function(){return j}));t(7),t(47),t(60);var n=t(48),r=t(88),o=t(0),c=t.n(o),i=t(470),l=t(471),s=t(505),m=t(475),u=t(584),d=t(476),p=t(479),g=t(602),b=t(480),f=t(481),h=t(234),E=(t(469),t(317)),v=t.n(E),y=t(325),O=t.n(y),x=(t(603),t(278));function k(e){var a=e.id,t=e.name,n=e.nameLabel,o=e.control,u=e.defaultValue,d=e.children,p=e.errors,g=e.customWidth,b=void 0!==g&&g,f=Object(r.a)(e,["id","name","nameLabel","control","defaultValue","children","errors","customWidth"]);return c.a.createElement(i.a,Object.assign({},f,{style:{width:b||"100%"},error:Boolean(p)}),c.a.createElement(l.a,{id:a+"-label"},n),c.a.createElement(x.a,{as:c.a.createElement(s.a,{labelId:a+"-label",id:a},d),name:t,control:o,defaultValue:u,rules:{required:{value:!0,message:"Campo requerido."}}}),c.a.createElement(m.a,null,null===p||void 0===p?void 0:p.message))}function _(e){var a=e.registerInput,t=e.data,n=e.defaultValue,r=void 0===n?null:n;return c.a.createElement(i.a,{component:"fieldset"},c.a.createElement(u.a,{color:t.color,component:"legend"},t.title),c.a.createElement(d.a,{defaultValue:r,"aria-label":t.name,name:t.name,row:!0},t.values.map((function(e,n){return c.a.createElement(p.a,{key:n,value:e.value,inputRef:a,control:c.a.createElement(g.a,{color:t.color}),label:e.name,labelPlacement:"end"})}))))}function j(e){var a=e.type,t=void 0===a?"text":a,r=e.name,i=e.registerInput,l=e.errors,s=e.defaultValue,m=e.label,u=e.variant,d=void 0===u?"outlined":u,p=e.textarea,g=void 0!==p&&p,E=e.maxRows,y=void 0===E?6:E,x=e.maxWidth,k=void 0!==x&&x,_=e.size,j=void 0===_?"medium":_,w=e.passwordMode,I=void 0!==w&&w,S=e.focus,C=void 0!==S&&S,N=e.disabledOnLoading,z=void 0===N?null:N,A=Object(o.useState)(!1),L=Object(n.a)(A,2),D=L[0],V=L[1],R={rows:4,rowsMax:y};return c.a.createElement(b.a,Object.assign({inputRef:i,type:I?D?"text":"password":t,name:r,defaultValue:s,label:m,size:j,disabled:null!==z&&z,error:Boolean(l),helperText:null===l||void 0===l?void 0:l.message,autoFocus:C,style:{width:"100%",maxWidth:k||"none"},variant:d,multiline:g,InputProps:{endAdornment:I?c.a.createElement(f.a,{position:"end"},c.a.createElement(h.a,{onClick:function(){V(!D)},size:j},D?c.a.createElement(O.a,null):c.a.createElement(v.a,null))):null}},R))}},286:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(206),c=t(469),i=t(204),l=t(115),s=Object(l.a)((function(e){return{progress:{position:"absolute"},progressLabel:{marginTop:5}}}));a.a=function(e){var a=e.loading,t=e.backDrop,n=void 0!==t&&t,l=e.children,m=function(e){var a=e.color,t=void 0===a?"primary":a,n=e.progressLabel,i=e.progressLoading,l=e.progress,m=s();return i&&l<=99?r.a.createElement(o.a,{container:!0,justify:"center",alignItems:"center"},r.a.createElement(o.a,{container:!0,justify:"center",alignItems:"center",item:!0,xs:12},r.a.createElement(c.a,{color:t,variant:"static",value:l})),r.a.createElement("span",{className:m.progress},l,"%"),n&&r.a.createElement(o.a,{item:!0,xs:!0},r.a.createElement("span",{className:m.progressLabel},n))):r.a.createElement(c.a,{color:t})};return a&&!n?r.a.createElement(m,e):a&&n?r.a.createElement(i.a,{open:!0,style:{zIndex:200}},r.a.createElement(m,e)):l}},393:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"UPDATE_FORM",payload:{form:e,loading:a,inputs:t}}}},412:function(e,a,t){"use strict";var n=t(1),r=t(2),o=t(0),c=(t(3),t(4)),i=t(350),l=t(99),s=Object(l.a)(o.createElement("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),m=Object(l.a)(o.createElement("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),u=t(15),d=Object(l.a)(o.createElement("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox"),p=t(8),g=t(6),b=o.createElement(m,null),f=o.createElement(s,null),h=o.createElement(d,null),E=o.forwardRef((function(e,a){var t=e.checkedIcon,l=void 0===t?b:t,s=e.classes,m=e.color,u=void 0===m?"secondary":m,d=e.icon,g=void 0===d?f:d,E=e.indeterminate,v=void 0!==E&&E,y=e.indeterminateIcon,O=void 0===y?h:y,x=e.inputProps,k=e.size,_=void 0===k?"medium":k,j=Object(r.a)(e,["checkedIcon","classes","color","icon","indeterminate","indeterminateIcon","inputProps","size"]),w=v?O:g,I=v?O:l;return o.createElement(i.a,Object(n.a)({type:"checkbox",classes:{root:Object(c.a)(s.root,s["color".concat(Object(p.a)(u))],v&&s.indeterminate),checked:s.checked,disabled:s.disabled},color:u,inputProps:Object(n.a)({"data-indeterminate":v},x),icon:o.cloneElement(w,{fontSize:void 0===w.props.fontSize&&"small"===_?_:w.props.fontSize}),checkedIcon:o.cloneElement(I,{fontSize:void 0===I.props.fontSize&&"small"===_?_:I.props.fontSize}),ref:a},j))}));a.a=Object(g.a)((function(e){return{root:{color:e.palette.text.secondary},checked:{},disabled:{},indeterminate:{},colorPrimary:{"&$checked":{color:e.palette.primary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.primary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}},colorSecondary:{"&$checked":{color:e.palette.secondary.main,"&:hover":{backgroundColor:Object(u.d)(e.palette.secondary.main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},"&$disabled":{color:e.palette.action.disabled}}}}),{name:"MuiCheckbox"})(E)}}]);
//# sourceMappingURL=12.2f77a753.chunk.js.map