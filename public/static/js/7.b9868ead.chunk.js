(this.webpackJsonpGedure=this.webpackJsonpGedure||[]).push([[7],{244:function(e,a,t){"use strict";t.r(a);var n=t(48),r=t.n(n),o=t(64),i=t(62),c=t(0),l=t.n(c),s=t(115),u=t(12),m=t(343),p=t(347),d=t(113),g=t.n(d),f=t(47),E=t(112),b=t(111),h=t(21),v=function(e){return{type:"UPDATE_DATA_USER",payload:e}},y=function(e){return{type:"AUTH_UPDATE",payload:e}};var _={updateDataUser:v,updateAuth:y,logoutApp:t(74).a},x=Object(h.b)((function(e){return{auth:e.userData.auth,theme:e.settings.tema,access_key:e.userData.access_key}}),_)((function(e){var a=e.children,t=e.auth,n=e.theme,i=e.updateDataUser,s=e.updateAuth,m=e.access_key,p=e.logoutApp,d=Object(c.useState)(!0),g=Object(f.a)(d,2),h=g[0],v=g[1],y=Object(b.a)().fetchData,_=Object(u.g)(),x=(Object(u.h)().state||{from:{pathname:"/"}}).from;return Object(c.useEffect)((function(){var e=!1,a=function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={url:"v1/relogin",data:{headers:{Authorization:"Bearer ".concat(a)}},successText:"Login exitoso",type:"get"},e.next=3,y(t);case 3:n=e.sent,v(!1),n?(n.access_key=a,i(n),s(!0)):(s(!1),p());case 6:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}(),n=JSON.parse(localStorage.getItem("access_key")),c=JSON.parse(sessionStorage.getItem("access_key"));return!t&&h&&"string"===typeof c&&c.length>30?a(c):!t&&h&&"string"===typeof n&&n.length>30?a(n):e||v(!1),function(){e=!0}}),[t,m,y,i,s,h,p]),h?l.a.createElement(E.a,{theme:n}):(t&&"/"===x.pathname?_.push("/panel"):t&&"/"!==x.pathname&&_.replace(x),a)})),O=t(449),w=t(348),j=t(144),k=t(161),A=t(204),N=t(81),D=t(79),S=t(412),I=t(451),R=t(231),U=t(250),L=Object(s.a)((function(e){var a,t;return{root:{flexGrow:1},margin:{marginTop:e.spacing(4),marginBottom:e.spacing(4)},login__welcome:(a={background:e.palette.primary.main,width:"100%",padding:e.spacing(2)},Object(i.a)(a,e.breakpoints.down("sm"),{borderRadius:"5px 5px 0px 0px"}),Object(i.a)(a,e.breakpoints.up("md"),{height:500,borderRadius:5}),a),login__box:(t={width:"100%",height:470},Object(i.a)(t,e.breakpoints.down("xs"),{padding:"".concat(e.spacing(2),"px ").concat(e.spacing(4),"px")}),Object(i.a)(t,e.breakpoints.up("sm"),{padding:"".concat(e.spacing(2),"px ").concat(e.spacing(8),"px")}),t),button:{width:170,height:45},login__recovery:{color:e.palette.primary.main,cursor:"pointer"}}}));function C(){var e=L();return l.a.createElement(j.a,{in:!0,direction:"right",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement(k.a,{className:e.login__welcome+" "+e.padding+" MuiPaper-elevation1"},l.a.createElement(A.a,{container:!0,direction:"column",spacing:2,style:{height:"100%"}},l.a.createElement(A.a,{container:!0,item:!0},l.a.createElement("img",{src:g.a,alt:"Logo del instituo",className:"login__logo"})),l.a.createElement(A.a,{container:!0,direction:"column",justify:"center",alignItems:"center",spacing:2,item:!0,className:e.root},l.a.createElement(A.a,{item:!0},l.a.createElement(N.a,{className:"login__welcome login__welcome--white"},"Bienvenido")),l.a.createElement(A.a,{item:!0},l.a.createElement(N.a,{className:"login__text"},"Al iniciar sesi\xf3n usted podr\xe1:"),l.a.createElement(N.a,{className:"login__text login__text--list"},"- Ver noticias privadas",l.a.createElement("br",null),"- Registrar pagos",l.a.createElement("br",null),"- Recibir y enviar tareas",l.a.createElement("br",null),"- Ver boletas",l.a.createElement("br",null),"- y m\xe1s.."))),l.a.createElement(A.a,{container:!0,justify:"center",item:!0},l.a.createElement(k.a,{textAlign:"center",className:"login__footer"},"\xa9 2020 - Desarrollado por Recker",l.a.createElement("br",null),"Powered by Gedure")))))}function T(e){var a=e.state,t=a.loading,n=a.inputs,i=a.updateForms,c=a.updateDataUser,s=a.updateAuth,d=Object(b.a)().fetchData,g=Object(O.a)(),f=g.register,E=g.handleSubmit,h=g.errors,v=n.user,y=n.password,_=Object(u.g)(),x=L(),w=function(){var e=Object(o.a)(r.a.mark((function e(a){var t,n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i("login",!0,a),t={url:"v1/login",data:a,successText:"Login exitoso"},e.next=4,d(t);case 4:(n=e.sent)&&(c(n),a.checkbox?(localStorage.setItem("access_key",JSON.stringify(n.access_key)),sessionStorage.setItem("access_key",JSON.stringify(n.access_key))):sessionStorage.setItem("access_key",JSON.stringify(n.access_key)),s(!0)),i("login",!1);case 7:case"end":return e.stop()}}),e)})));return function(a){return e.apply(this,arguments)}}();return l.a.createElement(j.a,{in:!0,direction:"left",mountOnEnter:!0,unmountOnExit:!0},l.a.createElement("form",{onSubmit:E(w)},l.a.createElement(D.a,{className:x.login__box},l.a.createElement(A.a,{container:!0,direction:"column",justify:"space-between",spacing:2,style:{height:"100%"}},l.a.createElement(A.a,{container:!0,item:!0,justify:"center"},l.a.createElement(N.a,{className:"login__titleForm login__welcome--italic"},"Rellene los campos")),l.a.createElement(A.a,{container:!0,item:!0},l.a.createElement(m.a,{name:"user",label:"Usuario",defaultValue:v,errors:h.user,registerInput:f({required:{value:!0,message:"Campo requerido."},minLength:{value:3,message:"Campo no v\xe1lido."}}),disabledOnLoading:t,focus:!0})),l.a.createElement(A.a,{container:!0,item:!0},l.a.createElement(m.a,{passwordMode:!0,name:"password",label:"Contrase\xf1a",defaultValue:y,errors:h.password,registerInput:f({required:{value:!0,message:"Campo requerido."},minLength:{value:4,message:"Campo no v\xe1lido."}}),disabledOnLoading:t})),l.a.createElement(A.a,{container:!0,item:!0},l.a.createElement(S.a,{control:l.a.createElement(I.a,{color:"primary",name:"checkbox",inputRef:f}),label:"Mantener abierto"})),l.a.createElement(A.a,{container:!0,justify:"center",item:!0},l.a.createElement(p.a,{loading:t},l.a.createElement(R.a,{color:"primary",variant:"contained",type:"submit",className:x.button},"Entrar"))),l.a.createElement(A.a,{container:!0,justify:"center",item:!0},l.a.createElement(k.a,{component:"span",className:x.login__recovery,onClick:function(){t||_.push("/recovery")}},"Recuperar contrase\xf1a"))))))}var V={updateForms:w.a,updateDataUser:v,updateAuth:y};a.default=Object(h.b)((function(e){return{loading:e.forms.login.loading,inputs:e.forms.login.inputs}}),V)((function(e){var a=e.updateForms,t=e.updateDataUser,n=e.updateAuth,r=e.loading,o=e.inputs,i=Object(u.g)(),c=L();return l.a.createElement(x,null,l.a.createElement("main",{className:c.root,ref:function(){document.title="La Candelaria - Login"}},l.a.createElement(U.a,{maxWidth:"md",style:{height:"100%",display:"flex",alignItems:"center"}},l.a.createElement(A.a,{container:!0,spacing:2},l.a.createElement(A.a,{container:!0,alignItems:"center",item:!0},l.a.createElement(A.a,{item:!0,xs:12,sm:12,md:4},l.a.createElement(C,null)),l.a.createElement(A.a,{item:!0,xs:12,sm:12,md:8},l.a.createElement(T,{state:{loading:r,inputs:o,updateForms:a,updateDataUser:t,updateAuth:n}}))),l.a.createElement(A.a,{container:!0,justify:"center",item:!0,xs:12},l.a.createElement(k.a,{component:"span",className:"login__return",onClick:function(){r||i.push("/")}},"Volver al inicio"))))))}))},343:function(e,a,t){"use strict";t.d(a,"b",(function(){return h})),t.d(a,"a",(function(){return v}));var n=t(47),r=t(0),o=t.n(r),i=t(408),c=t(541),l=t(409),s=t(412),u=t(552),m=t(413),p=t(419),d=t(232),g=t(421),f=t.n(g),E=t(420),b=t.n(E);function h(e){var a=e.registerInput,t=e.data,n=e.defaultValue,r=void 0===n?null:n;return o.a.createElement(i.a,{component:"fieldset"},o.a.createElement(c.a,{color:t.color,component:"legend"},t.title),o.a.createElement(l.a,{defaultValue:r,"aria-label":t.name,name:t.name,row:!0},t.values.map((function(e,n){return o.a.createElement(s.a,{key:n,value:e.value,inputRef:a,control:o.a.createElement(u.a,{color:t.color}),label:e.name,labelPlacement:"end"})}))))}function v(e){var a=e.type,t=void 0===a?"text":a,i=e.name,c=e.registerInput,l=e.errors,s=e.defaultValue,u=e.label,g=e.variant,E=void 0===g?"outlined":g,h=e.textarea,v=void 0!==h&&h,y=e.maxRows,_=void 0===y?6:y,x=e.maxWidth,O=void 0!==x&&x,w=e.size,j=void 0===w?"medium":w,k=e.passwordMode,A=void 0!==k&&k,N=e.focus,D=void 0!==N&&N,S=e.disabledOnLoading,I=void 0===S?null:S,R=Object(r.useState)(!1),U=Object(n.a)(R,2),L=U[0],C=U[1],T={rows:4,rowsMax:_};return o.a.createElement(m.a,Object.assign({inputRef:c,type:A?L?"text":"password":t,name:i,defaultValue:s,label:u,size:j,disabled:null!==I&&I,error:Boolean(l),helperText:null===l||void 0===l?void 0:l.message,autoFocus:D,style:{width:"100%",maxWidth:O||"none"},variant:E,multiline:v,InputProps:{endAdornment:A?o.a.createElement(p.a,{position:"end"},o.a.createElement(d.a,{onClick:function(){C(!L)},size:j},L?o.a.createElement(b.a,null):o.a.createElement(f.a,null))):null}},T))}},347:function(e,a,t){"use strict";var n=t(0),r=t.n(n),o=t(422),i=t(202);a.a=function(e){var a=e.loading,t=e.color,n=void 0===t?"primary":t,c=e.backDrop,l=void 0!==c&&c,s=e.children;return a&&!l?r.a.createElement(o.a,{color:n}):a&&l?r.a.createElement(i.a,{open:!0,style:{zIndex:200}},r.a.createElement(o.a,{color:n})):s}},348:function(e,a,t){"use strict";a.a=function(e,a){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:"UPDATE_FORM",payload:{form:e,loading:a,inputs:t}}}}}]);
//# sourceMappingURL=7.b9868ead.chunk.js.map