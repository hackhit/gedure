(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{mSkI:function(e,t,a){"use strict";a.r(t);var n=a("q1tI"),r=a.n(n),c=a("1NhI"),l=a("bqsI"),i=a("kKAo"),o=a("/MKj");var s={changeContentNews:function(e){return{type:"CHANGE_CONTENT_NEWS",payload:e}}},u=Object(o.b)((function(e){return{content:e.news.content}}),s)((function(e){var t=e.changeContentNews,a=e.content,n="noticias"===a?"ItemSwitchNews active":"ItemSwitchNews",c="anuncios"===a?"ItemSwitchNews active":"ItemSwitchNews",o=function(e){"SwitchNoticias"===e.target.id?t("noticias"):t("anuncios")};return r.a.createElement("div",{className:"SwitchOptionNews"},r.a.createElement(l.a,{in:!0},r.a.createElement(i.a,{variant:"outlined"},r.a.createElement("span",{id:"SwitchNoticias",className:n,onClick:o},"Noticias"),r.a.createElement("span",{id:"SwitchAnuncios",className:c,onClick:o},"Anuncios"))))})),m=a("lopY"),p=a("tr08"),f=a("o0o1"),d=a.n(f),E=a("tRbT"),h=a("SpDg"),v=a("P3uN"),g=a("PsDL"),y=a("76vg"),b=a.n(y),w=a("E2gh"),N=a.n(w),x=a("ZPUd"),C=a.n(x),k=a("p2q9"),A=a.n(k),j=a("vkC2"),O=a("Ko7v"),S=a.n(O);function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var _=function(e){var t=e.src,a=e.onClose,c=e.currentImg,l=e.setCurrentImg,i=0===c&&!0,o=c===t.length-1&&!0,s=Object(n.useCallback)((function(){var e=c+1;t[e]&&l(e)}),[c]),u=Object(n.useCallback)((function(){var e=c-1;t[e]&&l(e)}),[c]),m=Object(n.useCallback)((function(e){"Escape"===e.key&&a(),["ArrowLeft","d"].includes(e.key)&&document.getElementById("VisorImgReactComponent__left").click(),["ArrowRight","a"].includes(e.key)&&document.getElementById("VisorImgReactComponent__right").click()}),[]),p=Object(n.useCallback)((function(){Object(j.b)(t[c])}),[c]);return Object(n.useEffect)((function(){return document.addEventListener("keydown",m),function(){document.removeEventListener("keydown",m)}}),[c]),document.body.style.overflow="hidden",r.a.createElement("div",{className:"VisorImgReactComponent"},r.a.createElement("div",{className:"VisorImgReactComponent__controlls"},r.a.createElement("span",{onClick:u,class:"VisorImgReactComponent__left",id:"VisorImgReactComponent__left"},i?r.a.createElement(g.a,{"aria-label":"prev img",onClick:u},r.a.createElement(b.a,{style:{fontSize:"40px",opacity:.5,color:"white"}})):r.a.createElement(g.a,{"aria-label":"prev img",onClick:u},r.a.createElement(b.a,{style:{fontSize:"40px",color:"white"}}))),r.a.createElement("span",{onClick:s,className:"VisorImgReactComponent__right",id:"VisorImgReactComponent__right"},o?r.a.createElement(g.a,{"aria-label":"next img",onClick:s},r.a.createElement(N.a,{style:{fontSize:"40px",opacity:.5,color:"white"}})):r.a.createElement(g.a,{"aria-label":"next img",onClick:s},r.a.createElement(N.a,{style:{fontSize:"40px",color:"white"}})))),r.a.createElement("div",{className:"VisorImgReactComponent__visor"},r.a.createElement("div",{className:"VisorImgReactComponent__options"},r.a.createElement("span",{onClick:p,className:"VisorImgReactComponent__download"},r.a.createElement(g.a,{"aria-label":"download img"},r.a.createElement(A.a,{style:{color:"white"}}))),r.a.createElement("span",{onClick:a,className:"VisorImgReactComponent__close"},r.a.createElement(g.a,{"aria-label":"close viwer"},r.a.createElement(C.a,{style:{color:"white"}})))),t.map((function(e,t){return c===t?r.a.createElement(v.a,{alt:"imagen selected",src:e,placeholder:function(e){e.imageProps;var t=e.ref;return r.a.createElement("div",{ref:t},r.a.createElement(S.a,{type:"bubbles",width:150,height:100}))},actual:function(e){var t=e.imageProps;return r.a.createElement("img",I({},t,{className:"imgShow"}))},error:function(){return r.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},r.a.createElement("p",null,"Error al obtener imagen"))}}):r.a.createElement(v.a,{style:{display:"none"},alt:"imagen selected",src:e,placeholder:function(e){e.imageProps;var t=e.ref;return r.a.createElement("div",{style:{display:"none"},ref:t},r.a.createElement(S.a,{type:"bubbles",width:150,height:100}))},actual:function(e){var t=e.imageProps;return r.a.createElement("img",I({},t,{className:"imgShow"}))},error:function(){return r.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)",display:"none"}},r.a.createElement("p",null,"Error al obtener imagen"))}})}))))};function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var R=function(e){var t=e.options,a=T(Object(n.useState)(!1),2),c=a[0],l=a[1],i=T(Object(n.useState)(0),2),o=i[0],s=i[1];if(Array.isArray(t)&&0!==t.length){var u=t.length-3,m=t.map((function(e,t){return 3===t?r.a.createElement("span",{key:t,className:"more",onClick:function(){l(!0),s(3)}},"+",u):t<4?r.a.createElement(v.a,{key:t,alt:"imagen".concat(t+1),src:e,placeholder:function(e){e.imageProps;var a=e.ref;return r.a.createElement(h.a,{ref:a,key:t,variant:"rect",height:100,width:110})},actual:function(e){var a=e.imageProps;return r.a.createElement("img",P({key:t},a,{class:"imgPreview",onClick:function(){l(!0),s(t)}}))},error:function(){return r.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},r.a.createElement("p",null,"Error al obtener imagen"))}}):void 0}));return r.a.createElement("footer",null,r.a.createElement(E.a,{container:!0,spacing:2,justify:"space-around",wrap:"wrap",className:"fixGrid"},m),c&&r.a.createElement(_,{src:t,onClose:function(){document.body.style.overflow="auto",s(0),l(!1)},currentImg:o,setCurrentImg:s}))}if("loading"===t){var p=[1,2,3,4].map((function(e,t){return r.a.createElement(h.a,{key:t,variant:"rect",height:100,width:110})}));return r.a.createElement("footer",null,r.a.createElement(E.a,{container:!0,spacing:2,justify:"space-around",wrap:"wrap",className:"fixGrid"},p))}return r.a.createElement(r.a.Fragment,null)};function L(){return(L=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}var H=function(e){var t=e.options;if(Array.isArray(t)&&0!==t.length){var a=t.map((function(e,t){return r.a.createElement("a",{href:e.url,key:t},r.a.createElement(v.a,{alt:"extensiรณn de archivo",src:e.extension,placeholder:function(e){e.imageProps;var a=e.ref;return r.a.createElement(h.a,{ref:a,key:t,variant:"rect",height:50,width:50})},actual:function(e){var a=e.imageProps;return r.a.createElement("img",L({key:t,width:"50"},a))},error:function(){return r.a.createElement("div",{style:{width:"110px",height:"100px",background:"rgb(252, 72, 80)"}},r.a.createElement("p",null,"Error al obtener imagen"))}}))}));return r.a.createElement("footer",null,r.a.createElement(E.a,{container:!0,spacing:2,justify:"space-around",wrap:"wrap",className:"fixGrid"},a))}return r.a.createElement(r.a.Fragment,null)},V=a("469l"),U=a("HXb3"),B=a("GgLZ");function M(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function q(e,t,a,n,r,c,l){try{var i=e[c](l),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function F(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(){return r.a.createElement(i.a,{variant:"outlined"},r.a.createElement("section",{className:"Noticia"},r.a.createElement("div",{className:"NHead box"},r.a.createElement(h.a,{variant:"circle",className:"NHeadImg"}),r.a.createElement(h.a,{variant:"text",className:"NHeadName",width:150}),r.a.createElement(h.a,{variant:"text",className:"NHeadName",width:35})),r.a.createElement("hr",null),r.a.createElement("div",{className:"NContent"},r.a.createElement(h.a,{variant:"text",className:"NContentTitle",width:200}),r.a.createElement("p",{className:"NContentP"},r.a.createElement(h.a,{variant:"text",width:"100%"}),r.a.createElement(h.a,{variant:"text",width:"100%"}),r.a.createElement(h.a,{variant:"text",width:"100%"}),r.a.createElement(h.a,{variant:"text",width:"100%"}))),r.a.createElement(R,{options:"loading"})))}function G(e){return e.options.map((function(e){var t,a;return"A-"===e.privilegio?(t=e.nameA,a=e.avatarA):(t=e.nameC,a=e.avatarC),r.a.createElement(i.a,{className:"box",variant:"outlined",key:e.id},r.a.createElement("section",{className:"Noticia"},r.a.createElement("div",{className:"NHead"},r.a.createElement(V.a,{src:a,alt:"Usuario",className:"NHeadImg",style:{backgroundColor:"#B46BD6"}},t.substring(0,1).toUpperCase()),r.a.createElement("span",{className:"NHeadName"},t),r.a.createElement("small",null,r.a.createElement("i",null,"#",e.id))),r.a.createElement("hr",null),r.a.createElement("div",{className:"NContent"},r.a.createElement("span",{className:"NContentTitle"},e.title),r.a.createElement("p",{className:"NContentP",dangerouslySetInnerHTML:{__html:e.content}})),r.a.createElement(R,{options:JSON.parse(e.imgList)}),r.a.createElement(H,{options:JSON.parse(e.archivesList)}),r.a.createElement("i",{className:"NFecha"},"Publicado ",e.fecha)))}))}var z={updateNewsNoticias:function(e){return{type:"UPDATE_NEWS_NOTICIAS",payload:e}}},J=Object(o.b)((function(e){return{list:e.news.dataN}}),z)((function(e){var t,a=e.list,c=e.updateNewsNoticias,l=Object(U.useSnackbar)().enqueueSnackbar,i=F(Object(n.useState)(!1),2),o=i[0],s=i[1],u=F(Object(n.useState)(!1),2),m=u[0],p=u[1],f=axios.CancelToken,E=function(){var e,n=(e=d.a.mark((function e(n,r){var i,o,u,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("api/news?offset=".concat(n,"&limit=").concat(r),{cancelToken:new f((function(e){t=e}))});case 3:i=e.sent,o=i.data,u=o.data,m=o.finish,u.length>0?(c([].concat(M(a),M(u))),s(m)):p(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),axios.isCancel(e.t0)||l("No se han podido obtener los anuncios",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){q(c,n,r,l,i,"next",e)}function i(e){q(c,n,r,l,i,"throw",e)}l(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),h=function(){var e=a.length;E(e,5)};return Object(n.useEffect)((function(){return 0===a.length&&h(),function(){t&&t()}}),[a,t]),Object(n.useEffect)((function(){return function(){t&&t(),c([])}}),[c,t]),r.a.createElement("article",{className:"BoxNoticias"},0!==a.length?r.a.createElement(B.a,{dataLength:a.length,hasMore:!o,next:h,scrollThreshold:.3,loader:r.a.createElement(D,null),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"No hay más noticias que cargar."))},r.a.createElement(G,{options:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement(D,null),m&&r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"No hay anuncios publicados."))))}));function K(e){return function(e){if(Array.isArray(e)){for(var t=0,a=new Array(e.length);t<e.length;t++)a[t]=e[t];return a}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function W(e,t,a,n,r,c,l){try{var i=e[c](l),o=i.value}catch(e){return void a(e)}i.done?t(o):Promise.resolve(o).then(n,r)}function Z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var a=[],n=!0,r=!1,c=void 0;try{for(var l,i=e[Symbol.iterator]();!(n=(l=i.next()).done)&&(a.push(l.value),!t||a.length!==t);n=!0);}catch(e){r=!0,c=e}finally{try{n||null==i.return||i.return()}finally{if(r)throw c}}return a}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function X(){return r.a.createElement(i.a,{variant:"outlined"},r.a.createElement("section",{className:"Anuncio"},r.a.createElement(h.a,{variant:"text",className:"ATitle",width:200}),r.a.createElement("p",{className:"AContent"},r.a.createElement(h.a,{variant:"text",width:"100%"}),r.a.createElement(h.a,{variant:"text",width:"100%"}),r.a.createElement(h.a,{variant:"text",width:"100%"}),r.a.createElement(h.a,{variant:"text",width:"100%"})),r.a.createElement("hr",null),r.a.createElement("footer",null,r.a.createElement(h.a,{variant:"text",width:150})),r.a.createElement("div",{className:"AId"})))}function Y(e){return e.option.map((function(e){var t;return t="A-"===e.privilegio?e.nameA:e.nameC,r.a.createElement(i.a,{variant:"outlined",key:e.id,className:"AnuncioPaper"},r.a.createElement("section",{className:"Anuncio"},r.a.createElement("span",{className:"ATitle"},e.title),r.a.createElement("p",{className:"AContent",dangerouslySetInnerHTML:{__html:e.content}}),r.a.createElement("hr",null),r.a.createElement("footer",null,"Escrito por ",t," ",e.fecha),r.a.createElement("div",{className:"AId"},r.a.createElement("small",null,r.a.createElement("i",null,"#",e.id)))))}))}var Q={updateNewsAnuncios:function(e){return{type:"UPDATE_NEWS_ANUNCIOS",payload:e}}},$=Object(o.b)((function(e){return{list:e.news.dataA}}),Q)((function(e){var t,a=e.list,c=e.updateNewsAnuncios,l=Object(U.useSnackbar)().enqueueSnackbar,o=Z(Object(n.useState)(!1),2),s=o[0],u=o[1],m=Z(Object(n.useState)(!1),2),p=m[0],f=m[1],E=axios.CancelToken,h=function(){var e,n=(e=d.a.mark((function e(n,r){var i,o,s,m;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,axios.get("api/anuncios?offset=".concat(n,"&limit=").concat(r),{cancelToken:new E((function(e){t=e}))});case 3:i=e.sent,o=i.data,s=o.data,m=o.finish,s.length>0?(c([].concat(K(a),K(s))),u(m)):f(!0),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),axios.isCancel(e.t0)||l("No se han podido obtener los anuncios",{variant:"error"});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})),function(){var t=this,a=arguments;return new Promise((function(n,r){var c=e.apply(t,a);function l(e){W(c,n,r,l,i,"next",e)}function i(e){W(c,n,r,l,i,"throw",e)}l(void 0)}))});return function(e,t){return n.apply(this,arguments)}}(),v=function(){var e=a.length;h(e,7)};return Object(n.useEffect)((function(){return 0===a.length&&v(),function(){t&&t()}}),[a,t]),Object(n.useEffect)((function(){return function(){t&&t(),c([])}}),[c,t]),r.a.createElement("aside",{id:"test",className:"BoxAnuncios"},r.a.createElement(i.a,{variant:"outlined",className:"PaperMargin"},r.a.createElement("div",{className:"AHead"},r.a.createElement("span",null,"Anuncios"))),0!==a.length?r.a.createElement(B.a,{dataLength:a.length,hasMore:!s,next:v,scrollThreshold:.2,loader:r.a.createElement(X,null),endMessage:r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"No hay más anuncios que cargar."))},r.a.createElement(Y,{option:a})):r.a.createElement(r.a.Fragment,null,r.a.createElement(X,null),p&&r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement("b",null,"No hay anuncios publicados."))))}));var ee=Object(o.b)((function(e){return{content:e.news.content}}))((function(e){var t=e.content,a=Object(p.a)(),n=Object(m.a)(a.breakpoints.up("md"));return r.a.createElement("div",{className:"container"},n?r.a.createElement(r.a.Fragment,null,r.a.createElement(J,null),r.a.createElement($,null)):"noticias"===t?r.a.createElement(J,{styles:{marginTop:"0px",marginLeft:"0"}}):r.a.createElement($,null))}));t.default=function(){return document.title="La Candelaria - News",r.a.createElement("div",{className:"BoxPageNews"},r.a.createElement("main",null,r.a.createElement(c.a,{mdUp:!0},r.a.createElement(u,null)),r.a.createElement(ee,null)))}},vkC2:function(e,t,a){"use strict";a.d(t,"b",(function(){return n}));var n=function(e){var t=document.createElement("a");t.href=e;var a=e.split("/");a=a[a.length-1],t.setAttribute("download","".concat(a)),document.body.appendChild(t),t.click()};t.a=function(e,t,a){var n=window.URL.createObjectURL(new Blob([e])),r=document.createElement("a");r.href=n,r.setAttribute("download","".concat(t,".").concat(a)),document.body.appendChild(r),r.click()}}}]);